max v2;#N vpatcher 183 101 1054 718;#P window setfont "Sans Serif" 9.;#N coll $3/state 1;#P newobj 114 129 130 196617 coll $3/state 1;#B color 5;#P comment 331 541 170 196617 $5;#P window setfont "Sans Serif" 14.;#P window linecount 2;#P comment 672 72 134 196622 use "makeswitch-" for submodules;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 355 157 40 196617 itoa;#P newex 355 134 49 196617 route 47;#P newex 355 114 40 196617 atoi;#P window linecount 2;#P comment 495 268 52 196617 new init value;#N comlet init value;#P inlet 479 273 15 0;#P window linecount 1;#P newex 479 294 62 196617 prepend set;#P newex 61 464 178 196617 prepend $1;#B color 11;#P newex 61 311 193 196617 s $1/external/sw;#B color 11;#P newex 61 291 193 196617 r $3/external/sw;#B color 11;#P newex 96 353 223 196617 r $1_;#B color 11;#P newex 154 439 175 196617 print $1_;#B color 11;#P newex 154 417 29 196617 gate;#P toggle 154 394 15 0;#P newex 154 374 225 196617 r $1/print/sw;#B color 11;#P newex 29 374 32 196617 sel 1;#P newex 61 488 62 196617 s /external;#B color 11;#P toggle 61 352 15 0;#P newex 61 332 193 196617 r $1/external/sw;#B color 11;#P newex 61 423 29 196617 gate;#P newex 96 405 36 196617 zl reg;#P newex 173 394 211 196617 r $1_;#B color 11;#P newex 61 245 163 196617 s $1_;#B color 11;#P newex 333 46 44 196617 del 100;#P comment 331 529 170 196617 $4;#P window linecount 3;#P comment 709 213 135 196617 message /makeparam/reset pour refaire les coll params avec init suivant;#B frgb 255 0 0;#P window linecount 1;#P newex 601 243 48 196617 t b clear;#P newex 601 221 105 196617 r /makeparam/reset;#B color 11;#P newex 464 143 219 196617 r $2/switchstate_collname;#B color 11;#P comment 331 517 170 196617 $3;#P newex 90 176 208 196617 r $1/switchstatecoll;#B color 11;#N comlet new collname switchstate name;#P inlet 449 120 15 0;#P newex 355 180 72 196617 prepend refer;#P newex 333 92 32 196617 sel 0;#P newex 333 24 48 196617 loadbang;#P message 333 73 111 196617 $4;#P comment 465 120 152 196617 new collname switchstate name;#N coll switchstate 1;#P newobj 72 207 121 196617 coll switchstate 1;#B color 5;#P newex 302 304 155 196617 s $1/print/sw;#B color 11;#P newex 302 284 21 196617 t 0;#P window setfont "Sans Serif" 18.;#P comment 61 513 111 196626 makeswitch;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P comment 61 553 107 196617 patch by Tom Mays contact@tommays.net;#P window linecount 1;#P newex 463 221 135 196617 r $1/init;#B color 11;#P newex 557 264 54 196617 onebang 1;#P message 557 289 148 196617 $1 t $5 0 1 0;#P newex 463 359 223 196617 s $1;#B color 11;#P message 463 326 87 196617 $5;#P button 463 248 15 0;#P comment 331 505 170 196617 $2;#P newex 557 308 70 196617 prepend store;#N coll $3/params 1;#P newobj 557 334 121 196617 coll $3/params 1;#B color 5;#P newex 72 82 155 196617 prepend $1;#P newex 72 105 70 196617 prepend store;#N coll $2/state 1;#P newobj 90 153 157 196617 coll $2/state 1;#B color 5;#P newex 72 59 49 196617 zl slice 1;#P newex 39 31 241 196617 r $1;#B color 11;#N comlet;#P outlet 39 246 15 0;#P window linecount 5;#P comment 502 493 254 196617 arg 1 - variable name \; arg 2 - submodule name \; arg 3 - module name \; arg 4 - switchstate coll name (default = switchstate) \; arg 5 - init value \;;#P window linecount 1;#P comment 331 493 170 196617 $1;#P connect 41 0 43 0;#P connect 3 0 2 0;#P fasten 3 0 36 0 44 236 66 236;#P connect 49 0 50 0;#P connect 40 0 41 0;#P connect 41 0 39 0;#P connect 39 0 51 0;#P connect 51 0 42 0;#P connect 3 0 4 0;#P connect 4 0 7 0;#P connect 7 0 6 0;#P connect 6 0 21 0;#P fasten 26 0 21 0 360 202 77 202;#P connect 28 0 21 0;#P connect 38 0 39 1;#P connect 6 0 5 0;#P connect 43 0 38 0;#P connect 48 0 38 0;#P connect 6 0 60 0;#P connect 44 0 45 0;#P connect 45 0 46 0;#P connect 46 0 47 0;#P connect 37 0 46 1;#P connect 11 0 19 0;#P connect 19 0 20 0;#P connect 24 0 35 0;#P fasten 15 0 23 0 562 285 617 285 617 67 338 67;#P connect 35 0 23 0;#P connect 23 0 25 0;#P connect 25 1 55 0;#P connect 55 0 56 0;#P connect 56 1 57 0;#P connect 56 0 57 0;#P connect 27 0 26 0;#P connect 30 0 26 0;#P connect 57 0 26 0;#P connect 16 0 11 0;#P connect 11 0 12 0;#P connect 52 0 12 0;#P connect 12 0 13 0;#P connect 53 0 52 0;#P connect 11 0 15 0;#P connect 15 0 14 0;#P connect 14 0 9 0;#P connect 9 0 8 0;#P fasten 32 1 8 0 644 329 562 329;#P connect 31 0 32 0;#P connect 32 0 15 1;#P pop;