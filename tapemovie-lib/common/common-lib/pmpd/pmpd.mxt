max v2;#N vpatcher 357 423 1407 867;#P origin 15 -24;#P window setfont "Sans Serif" 9.;#P window linecount 6;#P message 816 330 88 196617 \; /mass.1 enable 1 /mass.2 enable 1 /mass.3 enable 0 /mass.4 enable 0 /mass.5 enable 0;#P window linecount 1;#P newex 305 303 48 196617 loadbang;#P window linecount 6;#P message 719 330 88 196617 \; /mass.1 enable 1 /mass.2 enable 1 /mass.3 enable 0 /mass.4 enable 0 /mass.5 enable 0;#P window setfont "Sans Serif" 14.;#P window linecount 1;#N coll /mass.1/controls;#P newobj 497 366 157 196622 coll /mass.1/controls;#P window setfont "Sans Serif" 9.;#P window linecount 6;#P message 305 333 129 196617 \; module_register /mass.1 \; module_register /mass.2 \; module_register /mass.3 \; module_register /mass.4 \; module_register /mass.5 \;;#P user jit.pwindow 636 48 322 242 0 1 0 0 1 0;#X name MC.PMPD;#P window linecount 1;#P message 53 27 34 196617 reset;#P user jit.fpsgui 7 67 60 196617 0;#P window setfont "Sans Serif" 12.;#P comment 268 220 62 196620 iAmbient;#P window setfont "Sans Serif" 9.;#P newex 332 219 270 196617 mc.pmpd.iAmbient3D.param iambient iambient3D.preset 1;#B color 12;#P objectname mc.pmpd.iAmbient3D.param;#P newex 270 240 239 196617 mc.pmpd.iAmbient3D cloc @gr iambient @to /mass;#P window setfont "Sans Serif" 12.;#P comment 274 63 53 196620 Links;#P window setfont "Sans Serif" 9.;#N vpatcher 136 565 683 773;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P comment 359 38 56 196617 chaine;#P window linecount 6;#P message 346 53 149 196617 \; link.1 c1 fix.1 \, c2 /mass.1 \; link.2 c1 /mass.1 c2 /mass.2 \; link.3 c1 /mass.2 c2 /mass.3 \; link.4 c1 /mass.3 c2 /mass.4 \; link.5 c1 /mass.4 c2 /mass.5;#P message 188 53 137 196617 \; link.1 c1 fix.1 \, c2 /mass.1 \; link.2 c1 fix.1 c2 /mass.2 \; link.3 c1 fix.1 c2 /mass.3 \; link.4 c1 fix.1 c2 /mass.4 \; link.5 c1 fix.1 c2 /mass.5;#P window linecount 1;#P comment 188 38 56 196617 grappe;#P toggle 382 135 15 0;#P message 382 153 96 196617 enable \$1 \, show \$1;#P comment 299 137 80 196617 boucler chaine;#P window setfont "Sans Serif" 10.;#P newex 35 171 358 196618 mc.pmpd.link3D cloc @gr link @id 6 @c1 mass.5 @c2 fix.1 @enable 0;#P toggle 52 44 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P message 51 62 117 196617 \; link enable \$1 \, show \$1;#P connect 1 0 0 0;#P connect 5 0 4 0;#P connect 4 0 2 2;#P pop;#P newobj 277 82 101 196617 p messages-to-links;#B color 14;#P window setfont "Sans Serif" 12.;#P comment 9 114 53 196620 masses;#P window setfont "Sans Serif" 9.;#N vpatcher 389 492 854 816;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 280 206 48 196617 loadbang;#P window linecount 0;#P newex 280 226 44 196617 del 500;#P window linecount 2;#P message 280 248 132 196617 \; /mass force3D 0.1 0.1 0.1;#P toggle 3 55 15 0;#P window linecount 0;#N vpatcher 556 88 1156 488;#P window setfont "Sans Serif" 9.;#P number 494 166 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P newex 364 187 58 196617 pak 1. 100;#P newex 264 187 58 196617 pak 1. 100;#P window linecount 0;#P newex 164 187 58 196617 pak 1. 100;#P newex 164 77 32 196617 sel 1;#P newex 145 286 29 196617 gate;#P inlet 46 50 15 0;#P button 164 119 15 0;#P outlet 145 310 15 0;#P newex 164 264 79 196617 prepend setXYZ;#P window linecount 1;#P newex 366 167 110 196617 scale 0 1000 -0.5 0.5;#P newex 364 146 70 196617 random 1000;#P newex 364 209 31 196617 bline;#P newex 264 167 110 196617 scale 0 1000 -0.5 0.5;#P newex 264 146 70 196617 random 1000;#P newex 264 209 31 196617 bline;#P newex 164 167 110 196617 scale 0 1000 -0.5 0.5;#P window linecount 0;#P newex 164 146 70 196617 random 1000;#P newex 107 187 36 196617 r cloc;#P newex 164 209 31 196617 bline;#P window linecount 1;#P newex 164 240 210 196617 pak 0. 0. 0.;#P window linecount 0;#P comment 494 152 58 196617 speed;#P fasten 15 0 16 0 51 276 150 276;#P connect 16 0 13 0;#P connect 15 0 17 0;#P connect 17 0 14 0;#P fasten 2 1 14 0 190 232 87 232 87 98 169 98;#P connect 14 0 4 0;#P connect 4 0 5 0;#P connect 5 0 18 0;#P fasten 3 0 2 0 112 206 169 206;#P connect 18 0 2 0;#P connect 2 0 1 0;#P connect 1 0 12 0;#P connect 12 0 16 1;#P fasten 21 0 18 1 499 185 217 185;#P connect 14 0 7 0;#P connect 7 0 8 0;#P connect 8 0 19 0;#P fasten 3 0 6 0 112 206 269 206;#P connect 19 0 6 0;#P connect 6 0 1 1;#P fasten 21 0 19 1 499 185 317 185;#P connect 14 0 10 0;#P connect 11 0 20 0;#P connect 20 0 9 0;#P fasten 3 0 9 0 112 206 369 206;#P connect 9 0 1 2;#P connect 10 0 11 0;#P fasten 21 0 20 1 499 185 417 185;#P pop;#P newobj 3 74 60 196617 p automove;#P toggle 95 220 15 0;#P newex 95 239 38 196617 gate 1;#P window linecount 1;#P message 95 259 99 196617 force3D 0. -0.01 0.;#P newex 122 219 38 196617 r cloc;#P newex 95 277 47 196617 s /mass;#P comment 226 55 194 196617 set position of all masses in group 'mass';#P newex 65 98 40 196617 s fix.1;#P flonum 173 57 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 137 57 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 101 57 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 65 75 120 196617 pak setXYZ 0. 0. 0.;#P window linecount 2;#P message 268 157 141 196617 \; /mass.2 force3D 0.11 0.2 0.;#P message 269 66 100 196617 \; /mass setXYZ 0 0 0;#P window linecount 1;#P newex 88 173 47 196617 s /mass;#P message 142 136 104 196617 force3D 0 0 0.2;#P message 52 154 104 196617 force3D 0. 0.2 0.1;#P message 31 136 104 196617 force3D 0.11 0. 0.;#P comment 104 43 100 196617 move masse "fix.1";#P window linecount 0;#P comment 142 176 100 196617 send forces;#P comment 148 242 100 196617 simulate gravity;#P connect 21 0 20 0;#P fasten 20 0 13 0 8 95 70 95;#P connect 9 0 13 0;#P connect 5 0 6 0;#P connect 4 0 6 0;#P connect 3 0 6 0;#P connect 19 0 18 0;#P connect 18 0 17 0;#P connect 17 0 15 0;#P connect 10 0 9 1;#P connect 16 0 18 1;#P connect 11 0 9 2;#P connect 12 0 9 3;#P connect 24 0 23 0;#P connect 23 0 22 0;#P pop;#P newobj 65 114 113 196617 p messages-to-masses;#B color 14;#N vpatcher 680 55 1044 311;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P comment 109 202 168 196617 send messages to "group.preset";#P comment 80 52 161 196617 interpolate between preset;#P comment 91 180 231 196617 ramp from curent preset to preset 3 in 5 seconds;#P message 81 165 78 196617 rampto 3 5000;#P comment 90 140 218 196617 interpolate between preset 1 & 2 in 3 seconds;#P flonum 80 83 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 80 100 62 196617 fade 1 2 \$1;#P flonum 41 51 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 41 200 66 196617 s link.preset;#P message 82 124 78 196617 ramp 1 2 3000;#P window linecount 0;#P comment 118 84 161 196617 interpolate between preset 1 & 2;#P connect 3 0 2 0;#P connect 1 0 2 0;#P connect 4 0 2 0;#P connect 7 0 2 0;#P connect 5 0 4 0;#P pop;#P newobj 120 75 114 196617 p messages-to-presets;#B color 12;#P newex 8 133 255 196617 mc.pmpd.mass3D.param /mass demo.mass3D.preset 1;#B color 12;#P objectname mc.pmpd.mass3D.param;#N vpatcher 30 548 506 706;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 359 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape cube @scale 0.02 0.02 0.02 @color 0.5 0.5 0.5 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 175 33 196617 p jit;#P newex 332 63 233 196617 mc.pmpd.Link3D.param link demo.link3D.preset 1;#B color 12;#P objectname mc.pmpd.iSphere3D.param[1];#P newex 8 154 228 196617 mc.pmpd.mass3D cloc @gr fix @id 1 @solo 1;#N vpatcher 20 583 496 741;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 360 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape sphere @scale 0.03 0.03 0.03 @color 1. 0. 1. 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 374 33 196617 p jit;#P newex 8 354 189 196617 mc.pmpd.mass3D cloc @gr /mass @id 5;#N vpatcher 43 540 519 698;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 360 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape sphere @scale 0.03 0.03 0.03 @color 1. 1. 0. 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 335 33 196617 p jit;#P newex 8 315 189 196617 mc.pmpd.mass3D cloc @gr /mass @id 4;#N vpatcher 50 517 526 675;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 360 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape sphere @scale 0.03 0.03 0.03 @color 0. 0. 1. 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 295 33 196617 p jit;#P newex 8 275 189 196617 mc.pmpd.mass3D cloc @gr /mass @id 3;#N vpatcher 151 562 627 720;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 360 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape sphere @scale 0.03 0.03 0.03 @color 0. 1 0. 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 256 33 196617 p jit;#P newex 8 236 189 196617 mc.pmpd.mass3D cloc @gr /mass @id 2;#N vpatcher 27 545 503 703;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 50 50 173 196617 substitute position3D position;#P window linecount 2;#P newex 50 72 360 196617 jit.gl.gridshape MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shape sphere @scale 0.03 0.03 0.03 @color 1. 0. 0. 1.;#P inlet 50 30 15 0;#P connect 0 0 2 0;#P connect 2 0 1 0;#P pop;#P newobj 8 216 33 196617 p jit;#N vpatcher 234 611 869 824;#P origin 33 32;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 236 60 48 196617 loadbang;#P inlet 12 10 15 0;#P inlet 173 72 15 0;#P newex 12 29 80 196617 r /movie/draw;#P outlet 110 167 15 0;#P toggle 236 83 15 0;#P message 236 101 50 196617 axes \$1;#P newex 50 98 50 196617 s cloc;#P window linecount 1;#P newex 147 121 403 196617 jit.gl.handle MC.PMPD @depth_enable 1 @axes 1 @auto_rotate 1 @inherit_transform 1;#P newex 61 77 26 196617 s tic;#P newex 122 80 39 196617 s erase;#P newex 12 51 108 196617 t b b erase;#P newex 110 143 501 196617 jit.gl.render MC.PMPD @lens_angle 53.14 @erase_color 0.9 0.9 0.9 1. @light_position 0.4 1.6 0.5 1.5;#P connect 9 0 1 0;#P connect 1 1 5 0;#P connect 1 1 3 0;#P connect 1 2 0 0;#P connect 4 0 0 0;#P fasten 1 0 0 0 17 123 115 123;#P connect 0 0 8 0;#P connect 1 2 2 0;#P fasten 6 0 4 0 241 120 152 120;#P connect 10 0 4 0;#P connect 12 0 7 0;#P connect 7 0 6 0;#P pop;#P newobj 7 46 56 196617 p render;#P newex 8 195 189 196617 mc.pmpd.mass3D cloc @gr /mass @id 1;#P toggle 7 21 20 0;#P newex 267 189 338 196617 mc.pmpd.link3D cloc @gr link @id 5 @c1 /mass.4 @c2 /mass.5 @show 1;#P newex 267 168 338 196617 mc.pmpd.link3D cloc @gr link @id 4 @c1 /mass.3 @c2 /mass.4 @show 1;#P newex 267 146 338 196617 mc.pmpd.link3D cloc @gr link @id 3 @c1 /mass.2 @c2 /mass.3 @show 1;#P newex 267 124 338 196617 mc.pmpd.link3D cloc @gr link @id 2 @c1 /mass.1 @c2 /mass.2 @show 1;#N vpatcher 830 60 1345 230;#P origin 23 39;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 16 69 65 196617 r draw.links;#B color 6;#P newex 84 69 50 196617 t reset;#P window linecount 1;#P newex 84 48 39 196617 r erase;#P newex 16 99 459 196617 jit.gl.sketch MC.PMPD @depth_enable 1 @smooth_shading 1 @lighting_enable 1 @shininess 1;#B color 5;#P connect 3 0 0 0;#P fasten 2 0 0 0 89 92 21 92;#P connect 1 0 2 0;#P pop;#P newobj 380 82 68 196617 p draw_links;#B color 6;#P newex 267 102 356 196617 mc.pmpd.link3D cloc @gr link @id 1 @c1 fix.1 @c2 mass.1 @show 1;#P user panel 4 111 257 283;#X brgb 247 247 247;#X frgb 0 0 0;#X border 1;#X rounded 0;#X shadow 0;#X done;#P user panel 264 59 366 154;#X brgb 247 247 247;#X frgb 0 0 0;#X border 1;#X rounded 0;#X shadow 0;#X done;#P user panel 264 215 367 47;#X brgb 233 223 234;#X frgb 0 0 0;#X border 1;#X rounded 0;#X shadow 0;#X done;#P connect 9 0 11 0;#P connect 11 0 33 0;#P connect 21 0 23 0;#P connect 10 0 12 0;#P connect 13 0 14 0;#P connect 15 0 16 0;#P connect 17 0 18 0;#P connect 19 0 20 0;#P connect 34 0 11 1;#P connect 39 0 36 0;#P pop;