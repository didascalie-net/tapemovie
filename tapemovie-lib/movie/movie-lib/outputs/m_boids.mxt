max v2;#N vpatcher 288 372 1185 653;#P origin 17 22;#P window setfont "Sans Serif" 9.;#P window linecount 5;#P message 348 168 124 196617 \; $1/depth/initval 0 \; $1/scale/x/initval 1 \; $1/gl_group/init bang \; $1/properties/init bang \;;#P window linecount 1;#P newex 348 145 168 196617 moduleinit $1;#B color 11;#P window setfont "Sans Serif" 12.;#P newex 19 30 207 196620 m_glgroup $1 $2;#B color 6;#P window setfont Helvetica 9.;#P comment 23 228 190 1376265 Tom Mays \, Olivier Pfeiffer & Renaud Rubiano;#B frgb 0 146 207;#P window linecount 2;#P comment 23 201 199 1376265 m_boids is a part of movie \, a part of tapemovie. contact@tapemovie.org;#P window setfont Helvetica 24.;#P window linecount 1;#P comment 23 142 99 1376280 m_boids;#B frgb 0 146 207;#P window setfont Helvetica 12.;#P window linecount 2;#P comment 23 169 263 1376268 $1 : prefix name \; $2 : name of the render associated \;;#P user panel 20 139 269 111;#X brgb 255 255 255;#X frgb 0 0 0;#X border 1;#X rounded 0;#X shadow 0;#X done;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 707 133 161 196617 print $1/dumpout;#P window setfont "Sans Serif" 12.;#N vpatcher 158 163 606 439;#P window setfont "Sans Serif" 12.;#N vpatcher 50 44 968 848;#P window setfont "Sans Serif" 9.;#P window linecount 21;#P message 672 118 197 196617 \; $1/neighbors/init bang \; $1/speed/max/init bang \; $1/speed/min/init bang \; $1/center/init bang \; $1/attract/init bang \; $1/match/init bang \; $1/avoid/init bang \; $1/repel/init bang \; $1/edgedist/init bang \; $1/speed/init bang \; $1/inertia/init bang \; $1/accel/init bang \; $1/prefdist/init bang \; $1/attractpt/x/init bang \; $1/attractpt/y/init bang \; $1/attractpt/z/init bang \; $1/number/init bang \; $1/shape/x/init bang \; $1/shape/y/init bang \;;#P window linecount 1;#P newex 672 95 172 196617 r $1/properties/init;#B color 12;#P window linecount 0;#P comment 620 734 186 196617 reset boids randomly inside the flyrect;#P message 580 733 35 196617 reset;#P window linecount 2;#P comment 708 628 161 196617 point to which boids are attracted (x/y/z);#P window linecount 1;#P newex 562 688 277 196617 makeparam $1/number $1 f 500 0 1000;#B color 12;#P message 562 714 58 196617 number \$1;#P comment 624 714 165 196617 number of boids;#P newex 519 658 295 196617 makeparam $1/attractpt/z $1 f 0 -100 100;#B color 12;#P newex 485 639 296 196617 makeparam $1/attractpt/y $1 f 0 -100 100;#B color 12;#P newex 451 620 296 196617 makeparam $1/attractpt/x $1 f 0 -100 100;#B color 12;#P flonum 519 679 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P objectname flonum[1];#P flonum 485 679 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P objectname flonum[2];#P flonum 451 679 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P objectname flonum[3];#P newex 417 703 113 196617 pak attractpt 0. 0. 0.;#P newex 432 571 279 196617 makeparam $1/prefdist $1 f 3 -100 100;#B color 12;#P message 432 597 61 196617 prefdist \$1;#P comment 494 597 165 196617 preferred distance from neighbors;#P newex 408 524 281 196617 makeparam $1/accel $1 f 2.25 -100 100;#B color 12;#P message 408 550 48 196617 accel \$1;#P newex 393 481 288 196617 makeparam $1/inertia $1 f 5.22 -100 100;#B color 12;#P message 393 507 55 196617 inertia \$1;#P comment 446 507 194 196617 willingness to change speed and direction;#P newex 374 426 283 196617 makeparam $1/speed $1 f 1.54 -100 100;#B color 12;#P message 374 452 50 196617 speed \$1;#P comment 427 452 70 196617 overall speed;#P newex 355 380 295 196617 makeparam $1/edgedist $1 f 2.15 -100 100;#B color 12;#P message 355 406 62 196617 edgedist \$1;#P newex 340 333 302 196617 makeparam $1/repel $1 f 0.39 -1000 1000 1;#B color 12;#P message 340 359 48 196617 repel \$1;#P comment 390 359 162 196617 strengh of wall avoidance instinct;#P newex 314 282 291 196617 makeparam $1/avoid $1 f 2.98 -700 700 1;#B color 12;#P message 314 308 49 196617 avoid \$1;#P newex 286 232 294 196617 makeparam $1/match $1 f 3.33 -700 700 1;#B color 12;#P message 286 258 52 196617 match \$1;#P newex 249 187 276 196617 makeparam $1/attract $1 f 2.28 0 65 1;#B color 12;#P message 249 213 67 196617 attract \$1;#P newex 216 145 279 196617 makeparam $1/center $1 f 0.62 0 300 1;#B color 12;#P message 216 169 67 196617 center \$1;#P newex 140 120 297 196617 makeparam $1/speed/min $1 f 0.73 0 100 1;#B color 12;#P message 140 145 66 196617 minspeed \$1;#P newex 67 96 294 196617 makeparam $1/speed/max $1 f 4.72 0 50 1;#B color 12;#P message 67 120 67 196617 maxspeed \$1;#P newex 57 57 265 196617 makeparam $1/neighbors $1 i 4 0 4 1;#B color 12;#P message 57 79 67 196617 neighbors \$1;#P outlet 57 761 15 0;#P comment 421 406 196 196617 distance of vision for avoiding wall edges;#P comment 375 308 185 196617 strength of neighbor avoidance instinct;#P comment 345 258 209 196617 strength of neighbor speed matching instinct;#P comment 318 213 170 196617 strength of attraction to 'attractpt';#P comment 282 169 142 196617 strength of centering instinct;#P comment 124 79 249 196617 number of neighbors each boid consults when flocking;#P comment 461 550 105 196617 speed of acceleration;#P connect 9 0 8 0;#P fasten 49 0 7 0 585 754 62 754;#P fasten 46 0 7 0 567 745 62 745;#P fasten 38 0 7 0 422 740 62 740;#P fasten 36 0 7 0 437 686 62 686;#P fasten 33 0 7 0 413 663 62 663;#P fasten 31 0 7 0 398 641 62 641;#P fasten 28 0 7 0 379 614 62 614;#P fasten 25 0 7 0 360 591 62 591;#P fasten 23 0 7 0 345 567 62 567;#P fasten 8 0 7 0 62 427 62 427;#P fasten 10 0 7 0 72 448 62 448;#P fasten 12 0 7 0 145 460 62 460;#P fasten 14 0 7 0 221 472 62 472;#P fasten 16 0 7 0 254 494 62 494;#P fasten 18 0 7 0 291 517 62 517;#P fasten 20 0 7 0 319 542 62 542;#P connect 11 0 10 0;#P connect 13 0 12 0;#P connect 15 0 14 0;#P connect 17 0 16 0;#P connect 19 0 18 0;#P connect 21 0 20 0;#P connect 24 0 23 0;#P connect 26 0 25 0;#P connect 29 0 28 0;#P connect 32 0 31 0;#P connect 34 0 33 0;#P connect 37 0 36 0;#P connect 42 0 39 0;#P connect 39 0 38 1;#P connect 43 0 40 0;#P connect 40 0 38 2;#P connect 44 0 41 0;#P connect 41 0 38 3;#P connect 47 0 46 0;#P connect 51 0 52 0;#P pop;#P newobj 138 27 83 196620 p all params;#B color 6;#P window setfont "Sans Serif" 9.;#N vpatcher 50 44 734 290;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 423 81 209 196617 makeparam $1/shape/y $1 f 0.09 0. 100 1;#P newex 385 62 209 196617 makeparam $1/shape/x $1 f 0.09 0. 100 1;#P newex 281 42 65 196617 t 0.01 0.31;#P window linecount 1;#P newex 50 36 48 196617 loadbang;#P newex 50 129 129 196617 jit.matrix 2 char 100 100;#P button 50 56 15 0;#P newex 50 75 142 196617 jit.matrix 2 float32 100 100;#P window linecount 2;#P newex 50 96 213 196617 jit.expr @expr "1" "pow(1-hypot(snorm[0]\\\, snorm[1])\\\, 2)";#P window linecount 1;#P newex 50 150 194 196617 jit.gl.texture $2 @colormode lumalpha;#P toggle 306 106 15 0;#P message 306 126 69 196617 normalize \$1;#P flonum 423 107 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 379 126 75 196617 pak scale 0. 0.;#P flonum 385 107 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P outlet 50 181 15 0;#P outlet 306 192 15 0;#P connect 12 0 10 0;#P connect 10 0 9 0;#P connect 9 0 8 0;#P connect 8 0 11 0;#P connect 11 0 7 0;#P connect 7 0 1 0;#P connect 6 0 5 0;#P connect 3 0 0 0;#P connect 5 0 0 0;#P connect 14 0 2 0;#P connect 13 0 2 0;#P fasten 2 0 3 1 390 124 416 124;#P connect 15 0 4 0;#P connect 13 1 4 0;#P fasten 4 0 3 2 428 124 448 124;#P pop;#P newobj 16 127 120 196617 p;#P newex 155 78 27 196617 + 1;#P objectname receive[4];#P newex 155 101 40 196617 gate;#P objectname receive[3];#P newex 155 53 125 196617 r $1/sw;#B color 12;#P objectname receive[2];#P newex 185 78 95 196617 r /movie/drawgpu;#P objectname receive[1];#P newex 138 155 248 196617 xray.jit.boidsrender @scale 0.09 0.09 @normalize 1;#B color 5;#P newex 138 127 58 196617 jit.boids3d;#B color 5;#P outlet 257 206 15 0;#P outlet 138 206 15 0;#P connect 6 0 2 0;#P connect 9 0 2 0;#P connect 8 1 3 0;#P connect 2 0 3 0;#P connect 3 0 0 0;#P connect 8 0 0 0;#P connect 5 0 7 0;#P connect 7 0 6 0;#P connect 4 0 6 1;#P connect 3 1 1 0;#P pop;#P newobj 28 66 87 196620 p proprieties;#B color 6;#P window setfont "Sans Serif" 9.;#P newex 19 106 698 196617 jit.gl.mesh $2 @draw_mode quads @point_size 3;#P fasten 1 0 0 0 33 100 24 100;#P connect 8 0 0 0;#P connect 1 1 0 1;#P connect 9 0 10 0;#P connect 0 1 2 0;#P pop;