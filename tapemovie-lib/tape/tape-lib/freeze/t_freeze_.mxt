max v2;#N vpatcher 123 44 1399 713;#P origin 2 -15;#P button 739 201 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 739 150 150 196617 s $1/freeze;#B color 13;#P newex 739 178 150 196617 r $1/freeze;#B color 13;#P newex 546 227 132 196617 r $1/buf;#B color 11;#P newex 624 452 132 196617 s $1;#B color 11;#P newex 624 430 76 196617 prepend setbuf;#P newex 624 408 58 196617 append 0 1;#P newex 624 384 132 196617 r $1/setbuf;#B color 11;#P newex 8 58 132 196617 r $1;#B color 11;#P newex 147 592 145 196617 t_fxmetersend $1;#B color 4;#P window linecount 2;#P comment 1046 502 107 196617 patch by Tom Mays contact@tommays.net;#P window setfont Times 9.;#P window linecount 1;#N in~ 1;#P newobj 32 351 30 1310729 in~ 1;#P window setfont "Sans Serif" 9.;#P newex 167 256 308 196617 makeparam $1/trsp $1 f 0 -48 48 1;#B color 13;#P newex 146 234 380 196617 makeparam $1/grainlength $1 f 0.5 0 1 1;#B color 13;#P newex 783 258 304 196617 makeparam $1/fadeintime $1 i 1000 0 99999 1;#B color 13;#P newex 762 199 316 196617 makeparam $1/freezebuflen $1 i 500 50 5000 0;#B color 13;#P newex 849 23 295 196617 makeparam $1/fadeouttime $1 i 30 0 99999 1;#B color 13;#P newex 724 23 120 196617 r $1/freeze!;#B color 13;#P newex 170 157 364 196617 makeparam $1/grainmetrotime $1 i 50 5 99999 1;#B color 13;#P newex 125 130 165 196617 makeparam $1/grainmetro $1 t 0;#B color 13;#P flonum 155 556 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 104 556 49 196617 t_vol~ 2;#P newex 143 513 350 196617 makeparam $1/vol $1 f 0 0. 2. 1 20;#B color 13;#P window setfont Times 9.;#N out~ 1;#P newobj 104 592 33 1310729 out~ 1;#P button 801 417 15 0;#P window setfont "Sans Serif" 9.;#P newex 778 611 133 196617 s $1/spat/init;#B color 11;#P newex 980 312 261 196617 makeswitch $1/sw $1 tape_switchstate;#B color 13;#P newex 980 355 31 196617 == 0;#P newex 980 394 50 196617 thispoly~;#B color 5;#P toggle 980 336 15 0;#P message 980 375 45 196617 mute \$1;#P newex 801 396 148 196617 moduleinit $1;#B color 13;#P number 783 280 50 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 724 298 69 196617 pack 1. 1000;#P newex 724 318 146 196617 s $1/vol;#B color 11;#P newex 754 127 159 196617 s $1/grainmetro;#B color 11;#P newex 724 106 40 196617 t 1 b 1;#P number 762 221 49 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 849 44 50 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 739 241 33 196617 i;#P newex 724 83 35 196617 del 30;#P button 724 50 15 0;#P newex 802 83 57 196617 pack 0. 30;#P newex 802 103 145 196617 s $1/vol;#B color 11;#P comment 419 583 79 196617 random process;#P toggle 389 597 15 0;#P newex 406 596 155 196617 freezerand $1;#B color 6;#P button 86 125 15 0;#P message 569 247 33 196617 write;#P number 546 294 75 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 546 268 151 196617 buffer~ $1buf 5000;#P button 442 333 15 0;#P message 23 86 26 196617 900;#P window linecount 4;#P message 554 161 128 196617 \; $1/grainmetro 1 \; $1 500 \; $1/vol 1 1000;#P window linecount 1;#P newex 554 141 35 196617 del 30;#P window linecount 2;#P message 554 109 103 196617 bang \; $1/vol 0 30;#P window linecount 1;#P message 53 86 26 196617 500;#P window linecount 2;#P comment 202 313 71 196617 trsp semitones;#P toggle 568 389 15 0;#P toggle 496 389 15 0;#P toggle 424 389 15 0;#P toggle 352 389 15 0;#P toggle 280 389 15 0;#P window linecount 1;#P newex 600 511 145 196617 buffer~ loopwin loopwin20.aiff;#P newex 428 443 59 196617 t_grainwin;#B color 6;#P newex 320 443 59 196617 t_grainwin;#B color 6;#P newex 536 369 68 196617 t_graindriver;#B color 6;#P newex 464 369 68 196617 t_graindriver;#B color 6;#P newex 392 369 68 196617 t_graindriver;#B color 6;#P number 170 181 35 9 5 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 212 443 59 196617 t_grainwin;#B color 6;#P newex 320 369 68 196617 t_graindriver;#B color 6;#P flonum 146 288 39 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 104 102 52 9 0 0 64 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 167 311 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#N vpatcher 575 273 1145 806;#N comlet length in samples;#P outlet 109 396 15 0;#P window setfont "Sans Serif" 9.;#P newex 55 320 78 196617 t i i;#P newex 55 341 64 196617 mstosamps~;#N comlet bang to trigger;#P inlet 103 50 15 0;#N comlet length 0. to 1.;#P inlet 319 32 15 0;#P newex 180 232 52 196617 pack 0. 0.;#P newex 180 189 52 196617 t f f;#P newex 206 70 70 196617 t f f;#P newex 222 209 54 196617 + 0.;#P flonum 180 171 55 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P button 103 92 15 0;#P message 206 133 14 196617 0;#P newex 206 114 20 196617 t b;#P newex 180 151 63 196617 randomf000;#P comment 241 109 29 196617 max start point;#P flonum 206 52 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 206 91 59 196617 expr 1-$f1;#P comment 336 34 71 196617 length 0. to 1.;#N comlet [read from/to points] [time];#P outlet 143 488 15 0;#N comlet freeze duration!;#P inlet 55 179 15 0;#P newex 143 467 64 196617 pack 0. 0. 0.;#N comlet transposition in float semitons;#P inlet 349 346 15 0;#P flonum 197 448 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 197 427 27 196617 * 1.;#P flonum 349 368 51 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 349 411 88 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 349 389 155 196617 expr 1/(pow(1.0594633\\\,$f1));#P newex 180 278 27 196617 t l l;#P newex 197 405 27 196617 * 1.;#P flonum 197 339 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 197 319 35 196617 abs 0.;#P newex 197 299 27 196617 - 0.;#P number 123 341 45 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 188 258 100 196617 read from/to points;#P comment 66 364 43 196617 length in samples;#P connect 15 0 33 0;#P connect 33 0 32 0;#P connect 31 0 24 0;#P connect 32 1 34 0;#P connect 33 1 2 0;#P connect 7 0 14 0;#P connect 14 0 16 0;#P connect 24 0 21 0;#P connect 21 0 25 0;#P connect 25 0 28 0;#P connect 28 0 29 0;#P connect 29 0 7 0;#P connect 7 1 3 0;#P connect 3 0 4 0;#P connect 4 0 5 0;#P connect 5 0 6 0;#P connect 6 0 11 0;#P connect 11 0 12 0;#P connect 12 0 14 2;#P connect 30 0 19 0;#P connect 19 0 27 0;#P connect 27 0 18 0;#P connect 18 0 22 0;#P connect 22 0 23 0;#P connect 23 0 21 1;#P connect 2 0 6 1;#P connect 9 0 11 1;#P connect 28 1 26 0;#P connect 26 0 29 1;#P fasten 18 0 21 2 211 111 237 111;#P connect 27 1 26 1;#P connect 13 0 10 0;#P connect 10 0 8 0;#P connect 8 0 9 0;#P pop;#P newobj 104 335 73 196617 p readprep;#B color 6;#P newex 248 369 68 196617 t_graindriver;#B color 6;#P newex 104 443 59 196617 t_grainwin;#B color 6;#P toggle 125 179 15 0;#P newex 125 199 55 196617 metro 50;#P number 104 358 75 9 1 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 104 410 442 196617 stutter~ 44100 11025 -1 10 5;#P comment 187 289 71 196617 length 0. to 1.;#P newex 536 443 59 196617 t_grainwin;#B color 6;#P window linecount 13;#P message 801 439 181 196617 \; $1/sw/init bang \; $1/grainmetro/init bang \; $1/grainmetrotime/init bang \; $1/grainlength/init bang \; $1/trsp/init bang \; $1/vol/init bang \; $1/freezerand 0 1000 5000 50 100 \; $1/fadeouttime/init bang \; $1/freezebuflen/init bang \; $1/fadeintime/init bang \; $1/setbuf $1buf \; module_register $1 \;;#P connect 11 0 37 0;#P fasten 45 0 11 0 744 265 711 265 711 92 109 92;#P lcolor 2;#P connect 32 0 11 0;#P connect 28 0 11 0;#P connect 11 0 9 0;#P connect 9 0 4 0;#P fasten 76 0 3 0 13 405 109 405;#P fasten 73 0 3 0 37 392 109 392;#P connect 4 0 3 0;#P connect 3 0 7 0;#P fasten 7 0 63 0 109 508 109 508;#P fasten 14 0 63 0 217 484 109 484;#P fasten 19 0 63 0 325 484 109 484;#P fasten 20 0 63 0 433 484 109 484;#P fasten 1 0 63 0 541 484 109 484;#P connect 63 0 61 0;#P connect 65 0 6 0;#P connect 6 0 5 0;#P connect 5 0 9 1;#P connect 62 0 63 1;#P connect 64 0 63 1;#P connect 71 0 12 0;#P connect 12 0 9 2;#P connect 63 0 75 0;#P connect 8 1 7 1;#P lcolor 1;#P connect 63 1 64 0;#P connect 72 0 10 0;#P connect 10 0 9 3;#P connect 66 0 15 0;#P connect 15 0 5 1;#P connect 3 1 14 0;#P connect 9 1 8 0;#P connect 8 0 3 2;#P connect 13 1 14 1;#P lcolor 1;#P connect 8 2 22 0;#P connect 33 0 8 1;#P connect 8 3 13 0;#P connect 13 0 3 3;#P connect 3 2 19 0;#P connect 13 2 23 0;#P connect 16 1 19 1;#P lcolor 1;#P connect 33 0 13 1;#P hidden connect 38 0 39 0;#P connect 13 3 16 0;#P connect 16 0 3 4;#P connect 16 2 24 0;#P connect 3 3 20 0;#P connect 33 0 16 1;#P connect 16 3 17 0;#P connect 17 0 3 5;#P connect 17 1 20 1;#P lcolor 1;#P connect 17 2 25 0;#P connect 33 0 17 1;#P connect 17 3 18 0;#P connect 18 0 3 6;#P connect 3 4 1 0;#P connect 81 0 34 0;#P connect 36 0 34 0;#P connect 34 0 35 0;#P connect 29 0 30 0;#P connect 30 0 31 0;#P connect 18 2 26 0;#P connect 18 1 1 1;#P lcolor 1;#P connect 33 0 18 1;#P connect 77 0 78 0;#P connect 78 0 79 0;#P connect 79 0 80 0;#P connect 67 0 43 0;#P connect 43 0 44 0;#P connect 44 0 48 0;#P connect 48 0 51 0;#P connect 51 0 50 0;#P connect 48 1 83 0;#P connect 82 0 84 0;#P connect 84 0 45 0;#P connect 46 0 44 1;#P connect 48 2 49 0;#P connect 69 0 47 0;#P connect 47 0 45 1;#P fasten 60 0 59 0 806 435 783 435;#P connect 70 0 52 0;#P connect 52 0 51 1;#P connect 53 0 60 0;#P connect 60 0 0 0;#P connect 43 0 42 0;#P connect 42 0 41 0;#P connect 68 0 46 0;#P connect 46 0 42 1;#P connect 58 0 55 0;#P connect 55 0 57 0;#P connect 57 0 54 0;#P connect 54 0 56 0;#P pop;