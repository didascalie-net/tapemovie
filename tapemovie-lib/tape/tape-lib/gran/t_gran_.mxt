max v2;#N vpatcher 43 194 1207 836;#P origin 21 -18;#P window setfont "Sans Serif" 9.;#P newex 222 130 115 196617 s $1/tobuf;#B color 4;#P newex 222 110 40 196617 t clear;#P newex 222 90 116 196617 r $1/clear;#B color 11;#P newex 1029 318 76 196617 s $1/recreset;#B color 4;#P window linecount 2;#P message 1041 276 95 196617 \; $1/recreset bang \;;#P window linecount 3;#P message 861 414 159 196617 \; $1/soundfilesmenu/update bang \; $1/samplesmenu/update bang;#P window linecount 2;#P message 710 291 153 196617 \; module_register $1 \;;#P window setfont "Sans Serif" 18.;#P window linecount 1;#N vpatcher 244 44 1266 490;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 221 50 170 196617 r $1/replacesamp;#B color 4;#P newex 221 73 170 196617 s $1/loadsamp;#B color 11;#P newex 99 145 47 196617 t <none>;#P newex 99 165 185 196617 s $1/loadsamp;#B color 4;#P newex 229 240 47 196617 t <none>;#P newex 229 261 162 196617 s $1/loadfile;#B color 4;#P newex 132 222 67 196617 route <none>;#P newex 132 200 196 196617 makeparam $1/loadsamp $1 s <none>;#B color 4;#P newex 23 127 67 196617 route <none>;#P newex 23 104 173 196617 makeparam $1/loadfile $1 s <none>;#B color 4;#P window linecount 2;#P newex 132 303 94 196617 sprintf %smedia/samples/%s;#P window linecount 1;#P newex 132 261 94 196617 t b s;#P newex 132 282 62 196617 projectpath;#B color 6;#P newex 23 339 51 196617 tosymbol;#P newex 23 359 81 196617 prepend replace;#P window linecount 2;#P newex 23 231 98 196617 sprintf %smedia/soundfiles/%s;#P window linecount 1;#P newex 23 390 97 196617 s $1/tobuf;#B color 4;#P newex 23 189 98 196617 t b s;#P newex 23 211 62 196617 projectpath;#B color 6;#P newex 23 27 155 196617 r $1/load;#B color 11;#P newex 42 50 170 196617 r $1/replace;#B color 4;#P newex 23 73 170 196617 s $1/loadfile;#B color 11;#P newex 756 333 229 196617 s $1/loadsamp;#B color 12;#P newex 724 244 234 196617 r $1/fromsamplesmenu;#B color 12;#P newex 631 187 203 196617 s $1/tosamplesmenu;#B color 12;#P newex 842 222 27 196617 + 1;#P newex 756 311 40 196617 itoa;#P newex 724 289 42 196617 zl slice;#P newex 842 182 34 196617 zl len;#P number 842 203 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 842 162 40 196617 atoi;#P newex 724 265 40 196617 atoi;#P newex 724 144 51 196617 tosymbol;#P window setfont Times 9.;#P newex 724 123 105 1310729 sprintf %smedia/samples;#P window setfont "Sans Serif" 9.;#P newex 724 100 62 196617 projectpath;#B color 6;#P newex 724 165 76 196617 prepend prefix;#P button 724 57 15 0;#P newex 724 36 240 196617 r $1/samplesmenu/update;#B color 12;#P window setfont Times 9.;#P newex 724 77 76 1310729 t b b;#P window setfont "Sans Serif" 9.;#P message 790 100 33 196617 clear;#P window linecount 2;#P comment 713 206 123 196617 ubumenu filtered types: AIFF \, WAVE \, Sd2f \, NxTS;#P window linecount 1;#P newex 467 333 229 196617 s $1/loadfile;#B color 12;#P newex 435 244 234 196617 r $1/fromsoundfilesmenu;#B color 12;#P newex 342 187 203 196617 s $1/tosoundfilesmenu;#B color 12;#P newex 553 222 27 196617 + 1;#P newex 467 311 40 196617 itoa;#P newex 435 289 42 196617 zl slice;#P newex 553 182 34 196617 zl len;#P number 553 203 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 553 162 40 196617 atoi;#P newex 435 265 40 196617 atoi;#P newex 435 144 51 196617 tosymbol;#P window setfont Times 9.;#P newex 435 123 113 1310729 sprintf %smedia/soundfiles;#P window setfont "Sans Serif" 9.;#P newex 435 100 62 196617 projectpath;#B color 6;#P newex 435 165 76 196617 prepend prefix;#P button 435 57 15 0;#P newex 435 36 240 196617 r $1/soundfilesmenu/update;#B color 12;#P window setfont Times 9.;#P newex 435 77 76 1310729 t b b;#P window setfont "Sans Serif" 9.;#P message 501 100 33 196617 clear;#P window linecount 2;#P comment 424 206 123 196617 ubumenu filtered types: AIFF \, WAVE \, Sd2f \, NxTS;#P connect 39 0 38 0;#P connect 40 0 38 0;#P connect 50 0 51 0;#P connect 51 1 42 0;#P connect 42 0 41 0;#P connect 41 0 44 0;#P connect 44 0 46 0;#P connect 49 0 46 0;#P connect 46 0 45 0;#P connect 45 0 43 0;#P connect 51 1 57 0;#P connect 57 0 56 0;#P connect 42 1 44 1;#P connect 52 0 53 0;#P connect 53 1 48 0;#P connect 48 0 47 0;#P connect 47 0 49 0;#P connect 48 1 49 1;#P connect 59 0 58 0;#P connect 53 1 55 0;#P connect 55 0 54 0;#P connect 1 0 16 0;#P connect 5 0 16 0;#P connect 3 0 4 0;#P connect 4 0 2 0;#P connect 2 0 6 0;#P connect 6 0 7 0;#P connect 7 0 8 0;#P connect 8 0 5 0;#P connect 17 0 9 0;#P connect 9 0 13 0;#P fasten 15 0 13 1 558 285 472 285;#P connect 13 1 14 0;#P connect 14 0 18 0;#P connect 2 1 1 0;#P connect 8 0 10 0;#P connect 10 0 12 0;#P connect 12 0 11 0;#P connect 11 0 15 0;#P connect 20 0 35 0;#P connect 24 0 35 0;#P connect 22 0 23 0;#P connect 23 0 21 0;#P connect 21 0 25 0;#P connect 25 0 26 0;#P connect 26 0 27 0;#P connect 27 0 24 0;#P connect 36 0 28 0;#P connect 28 0 32 0;#P fasten 34 0 32 1 847 285 761 285;#P connect 32 1 33 0;#P connect 33 0 37 0;#P connect 21 1 20 0;#P connect 27 0 29 0;#P connect 29 0 31 0;#P connect 31 0 30 0;#P connect 30 0 34 0;#P pop;#P newobj 678 485 211 196626 p replace/replacesamp;#B color 6;#P window setfont "Sans Serif" 9.;#P newex 140 568 52 196617 *~ 0.707;#P newex 140 590 145 196617 t_fxmetersend $1;#B color 4;#P newex 999 215 95 196617 s $1/tobuf;#B color 4;#P window linecount 2;#P message 983 95 80 196617 \; $1/size 50000;#P window linecount 1;#P newex 999 184 66 196617 prepend size;#P newex 982 161 27 196617 t b i;#P newex 982 140 95 196617 r $1/size;#B color 4;#P newex 982 236 139 196617 s $1/bufsize_update;#B color 4;#P window linecount 2;#P message 675 17 168 196617 \; $1/replace xav_freeze_chrono.aif;#P window linecount 1;#P comment 344 531 31 196617 new!;#B frgb 255 0 0;#P window linecount 4;#P comment 504 566 120 196617 arg 1 : prefix name \; arg 2 : buffer length \; arg 3 : buffer name \; arg 4 : number of voices;#P window linecount 1;#P newex 662 330 259 196617 s $1/spat/init;#B color 12;#P newex 360 386 284 196617 makeparam $1/voices $1 i $3 0 100 0;#B color 13;#P flonum 71 529 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 15 529 55 196617 t_vol2~ 2;#P newex 59 500 350 196617 makeparam $1/vol $1 f 1 0. 2. 1 20;#B color 13;#P newex 678 415 31 196617 == 0;#P newex 678 454 50 196617 thispoly~;#B color 5;#P toggle 678 396 15 0;#P message 678 435 45 196617 mute \$1;#N out~ 2;#P newobj 85 580 39 196617 out~ 2;#N out~ 1;#P newobj 15 580 39 196617 out~ 1;#N in~ 1;#P newobj 13 36 33 196617 in~ 1;#P comment 690 597 109 196617 contact@tommays.net;#P comment 690 584 100 196617 patch by Tom Mays;#P newex 138 316 104 196617 s $1/bufsize;#B color 11;#P newex 13 136 107 196617 s $1/rectime;#B color 11;#P newex 360 408 75 196617 prepend voices;#P toggle 648 554 15 0;#P newex 665 553 243 196617 proc-randtransf0 $1/volrand $1/vol 2;#B color 6;#P comment 665 537 100 196617 volume with 0prob;#P newex 286 216 139 196617 r $1/bufsize_update;#B color 4;#P window linecount 2;#P message 309 32 135 196617 \; $1/tobuf size 5000;#P flonum 128 297 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 16;#P message 675 90 211 196617 \; $1/sw/init bang \; $1/loadfile/init bang \; $1/loadsamp/init bang \; $1/window grainwind2 \; $1/buffer $1buf \; $1/bufsize_update bang \; $1/recreset bang \; $1/voices/init bang \; $1/vol/init bang \; $1/volrand 0 0.5 1 1000 3000 50 100 1 4 \; $1/A/init bang \; $1/B/init bang \; $1/polyreset bang \; $1/soundfilesmenu/update bang \; $1/samplesmenu/update bang;#P window linecount 2;#P message 484 484 79 196617 \; $1/B/init bang;#P window linecount 1;#P newex 30 368 143 196617 t_gran_grain-feed_ $1/B $1;#B color 6;#P window linecount 2;#P message 484 420 95 196617 \; $1/polyreset bang;#P window linecount 1;#P newex 449 242 45 196617 split 1 2;#P window linecount 4;#P comment 543 182 70 196617 press '1' to scrub grain 1 \, '2' to scrub grain 2;#P window linecount 1;#P newex 449 277 94 196617 gate 2;#P newex 411 303 108 196617 s $1A/posctr;#B color 4;#P newex 533 303 107 196617 s $1B/posctr;#B color 4;#P number 449 224 28 9 0 0 164 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 449 168 27 196617 key;#P number 449 187 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 449 204 28 196617 - 48;#P newex 533 234 101 196617 r $1/bufpos;#B color 4;#P flonum 533 255 51 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 2;#P message 484 454 80 196617 \; $1/A/init bang;#P window linecount 1;#P newex 15 338 144 196617 t_gran_grain-feed_ $1/A $1;#B color 6;#P newex 293 465 105 196617 s $1/polyout;#B color 11;#P newex 120 412 91 196617 r $1/poly;#B color 11;#P newex 15 412 100 196617 prepend note;#P newex 15 443 288 196617 poly~ t_gran_grain~ $3 args $1 $1buf;#B color 5;#P newex 517 107 93 196617 peek~ grainwind1;#P newex 517 129 115 196617 buffer~ grainwind1 12;#N vpatcher 433 92 837 500;#P window setfont "Sans Serif" 9.;#P newex 147 147 34 196617 - 512;#P newex 126 178 38 196617 / 511.;#P newex 126 201 27 196617 * 2.;#P message 186 201 23 196617 1.;#P newex 186 178 23 196617 t b;#P newex 126 124 70 196617 split 384 512;#P newex 78 103 58 196617 split 0 128;#P button 73 40 15 0;#P newex 78 201 27 196617 * 2.;#P comment 229 247 127 196617 Sqrt for two Overlap;#P newex 78 225 278 196617 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));#P newex 151 245 75 196617 expr sqrt($f1);#P comment 246 207 50 196617 hanning;#P outlet 39 303 15 0;#P inlet 46 33 15 0;#P newex 78 178 38 196617 / 511.;#P newex 46 62 43 196617 Uzi 512;#P newex 78 83 27 196617 - 1;#P newex 39 276 49 196617 pack 0 0.;#P connect 1 0 0 0;#P connect 0 0 5 0;#P connect 11 0 2 0;#P connect 4 0 2 0;#P connect 2 2 1 0;#P connect 1 0 12 0;#P connect 12 0 3 0;#P connect 3 0 10 0;#P connect 16 0 8 0;#P connect 10 0 8 0;#P connect 15 0 0 1;#P connect 8 0 0 1;#P connect 7 0 0 1;#P connect 12 1 13 0;#P connect 13 0 17 0;#P connect 17 0 16 0;#P connect 13 0 18 0;#P connect 13 1 14 0;#P connect 14 0 15 0;#P pop;#P newobj 517 87 75 196617 p make-hanning;#P newex 470 61 45 196617 loadbang;#P newex 384 129 115 196617 buffer~ grainwind2 12;#N vpatcher 18 92 423 487;#P window setfont "Sans Serif" 9.;#P comment 174 213 50 196617 hanning;#P newex 97 248 75 196617 expr sqrt($f1);#P newex 95 163 38 196617 / 511.;#P newex 97 191 278 196617 expr 0.5 * (1 + cos((3.14159 + 3.14159*2* $f1)));#P newex 74 109 43 196617 Uzi 512;#N counter 0 511;#X flags 0 0;#P newobj 74 134 72 196617 counter 0 511;#P button 73 85 15 0;#P comment 178 251 81 196617 Sqrt for two Overlap;#P inlet 63 27 15 0;#P newex 74 289 49 196617 pack 0 0.;#P outlet 74 323 15 0;#P connect 2 0 4 0;#P connect 4 0 6 0;#P connect 6 0 5 0;#P connect 5 0 1 0;#P connect 1 0 0 0;#P connect 5 0 8 0;#P connect 8 0 7 0;#P connect 7 0 9 0;#P connect 9 0 1 1;#P pop;#P newobj 384 87 81 196617 patcher genWind;#P newex 384 107 93 196617 peek~ grainwind2;#P button 675 70 15 0;#P newex 675 49 148 196617 moduleinit $1;#B color 13;#P newex 171 32 111 196617 r $1/recreset;#B color 11;#P newex 63 32 87 196617 r $1/rec;#B color 11;#P window linecount 2;#P message 262 177 110 196617 \; $1/tobuf open;#P message 131 178 123 196617 \; $1/tobuf replace;#P window linecount 0;#P message 275 313 121 196617;#P window linecount 1;#P newex 275 293 60 196617 prepend set;#P button 144 250 15 0;#P newex 144 270 105 196617 info~ $1buf;#P number 13 119 38 9 0 0 160 3 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 143 68 32 196617 reset;#P button 171 67 15 0;#P toggle 92 57 25 0;#P window setfont "Sans Serif" 18.;#N vpatcher 581 44 1028 537;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 203 324 18 196617 t i;#P newex 203 304 34 196617 + 0.5;#P newex 203 344 40 196617 change;#P newex 203 284 29 196617 * 0.;#P newex 203 260 64 196617 snapshot~ 5;#P newex 9 380 46 196617 TogEdge;#P newex 9 360 27 196617 >=;#P newex 77 321 32 196617 sel 0;#P number 26 135 70 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 46 102 103 196617 r /gran.1/bufsize;#B color 11;#P number 77 252 49 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 72 402 37 196617 sel -1;#P number 26 252 49 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 26 48 75 196617 loadbang;#P message 26 69 72 196617 60000;#P newex 26 209 36 196617 - 100;#P message 9 405 14 196617 0;#P button 334 54 15 0;#P number 150 372 77 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P toggle 234 204 15 0;#P message 302 178 14 196617 0;#P newex 302 158 44 196617 del 100;#P message 320 136 31 196617 0 50;#P newex 302 114 28 196617 t b b;#P message 236 136 35 196617 1 100;#P message 271 178 14 196617 1;#P newex 236 80 76 196617 TogEdge;#P newex 219 180 27 196617 *~;#P newex 236 159 30 196617 line~;#P newex 236 115 45 196617 t b b;#P newex 363 189 45 196617 loadbang;#P message 379 155 32 196617 reset;#P toggle 260 52 15 0;#P message 363 209 45 196617 append 1;#P newex 219 236 118 196617 record~ /gran.1buf;#P window linecount 2;#P comment 349 50 74 196617 reset to record at beginning;#N comlet to reset bang;#P outlet 214 452 15 0;#N comlet to on/off toggle;#P outlet 182 452 15 0;#N comlet reset to record at beginning;#P inlet 334 23 15 0;#N comlet record on/off;#P inlet 260 23 15 0;#N comlet recording position;#P outlet 150 407 15 0;#N comlet signal to record;#P inlet 219 23 15 0;#P connect 23 0 35 0;#P connect 35 0 36 0;#P connect 36 0 25 0;#P connect 28 0 27 0;#P connect 27 0 33 0;#P connect 32 0 33 0;#P connect 33 0 26 0;#P connect 26 0 29 0;#P connect 29 0 35 1;#P connect 23 0 30 0;#P fasten 33 0 31 0 31 158 82 158;#P connect 31 0 34 0;#P connect 34 1 30 1;#P connect 39 0 23 0;#P connect 23 0 1 0;#P connect 25 0 4 0;#P connect 7 0 37 0;#P connect 37 0 38 0;#P connect 38 0 40 0;#P connect 40 0 41 0;#P connect 41 0 39 0;#P connect 30 0 5 0;#P connect 0 0 14 0;#P connect 22 0 7 0;#P connect 10 0 7 0;#P connect 8 0 7 0;#P connect 14 0 7 0;#P connect 33 0 38 1;#P connect 16 0 22 0;#P connect 21 0 22 0;#P connect 9 0 15 0;#P connect 15 0 12 0;#P connect 12 0 17 0;#P connect 19 0 13 0;#P connect 17 0 13 0;#P connect 13 0 14 1;#P connect 2 0 9 0;#P connect 12 1 16 0;#P connect 15 1 18 0;#P connect 18 0 20 0;#P connect 20 0 21 0;#P connect 18 1 19 0;#P connect 3 0 24 0;#P connect 11 0 8 0;#P connect 24 0 10 0;#P pop;#P newobj 13 87 168 196626 p grainbuf-record;#B color 6;#P window setfont "Sans Serif" 9.;#P newex 13 191 95 196617 r $1/tobuf;#B color 4;#P newex 13 257 101 196617 s $1/bufpos;#B color 4;#P flonum 13 240 51 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 18.;#P newex 13 210 255 196626 buffer~ $1buf $2;#B color 5;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P comment 117 57 21 196617 on/off;#P window linecount 3;#P comment 344 546 120 196617 arg 1 : prefix name \; arg 2 : buffer length \; arg 3 : number of voices;#P window linecount 1;#P comment 504 552 24 196617 old!;#B frgb 255 0 0;#P newex 678 372 261 196617 makeswitch $1/sw $1 tape_switchstate;#B color 13;#P comment 865 297 100 196617 no longer necessary;#P connect 63 0 9 0;#P connect 9 0 13 0;#P connect 13 0 59 0;#P connect 8 0 5 0;#P connect 5 0 6 0;#P connect 6 0 7 0;#P fasten 52 0 35 0 133 320 20 320;#P fasten 49 0 32 0 35 405 20 405;#P connect 35 0 32 0;#P fasten 33 0 31 0 125 434 20 434;#P fasten 58 0 31 0 365 434 20 434;#P connect 32 0 31 0;#P connect 31 0 71 0;#P connect 71 0 64 0;#P connect 52 0 49 0;#P fasten 31 1 71 1 159 475 42 475;#P connect 70 0 71 2;#P connect 72 0 71 2;#P connect 71 2 72 0;#P fasten 71 1 65 0 42 563 90 563;#P fasten 20 0 10 0 68 53 97 53;#P fasten 9 1 10 0 97 120 87 120 87 53 97 53;#P connect 10 0 9 1;#P fasten 14 6 52 0 227 293 133 293;#P connect 52 0 60 0;#P connect 71 0 85 0;#P connect 71 1 85 0;#P connect 85 0 84 0;#P fasten 54 0 15 0 291 244 149 244;#P fasten 5 1 15 0 263 244 149 244;#P connect 15 0 14 0;#P connect 21 0 11 0;#P fasten 9 2 11 0 176 120 192 120 192 63 176 63;#P connect 11 0 9 2;#P connect 91 0 92 0;#P connect 92 0 93 0;#P connect 14 7 16 0;#P connect 16 0 17 0;#P connect 31 2 34 0;#P connect 73 0 58 0;#P connect 27 0 25 0;#P connect 25 0 24 0;#P fasten 45 0 44 0 454 298 416 298;#P connect 41 0 40 0;#P connect 40 0 39 0;#P connect 39 0 42 0;#P connect 42 0 47 0;#P connect 47 0 45 0;#P connect 47 1 45 0;#P connect 27 0 28 0;#P connect 28 0 30 0;#P connect 38 0 37 0;#P connect 37 0 45 1;#P connect 45 1 43 0;#P hidden connect 56 0 57 0;#P fasten 23 0 74 0 680 87 667 87;#P connect 22 0 23 0;#P connect 23 0 51 0;#P connect 1 0 67 0;#P connect 67 0 69 0;#P connect 69 0 66 0;#P connect 66 0 68 0;#P connect 79 0 80 0;#P connect 81 0 78 0;#P connect 80 0 78 0;#P connect 80 1 81 0;#P connect 81 0 83 0;#P pop;