max v2;#N vpatcher 349 44 1304 714;#P origin 0 -30;#P window setfont "Sans Serif" 9.;#P newex 76 314 151 196617 s $1/trigpost;#B color 11;#P newex 50 232 151 196617 s $1/trigpre;#B color 11;#P newex 37 313 29 196617 f;#P newex 94 251 324 196617 makeparam $1/%prob $2 f 100 0 100 1;#B color 13;#P flonum 94 271 35 9 0. 100. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 37 255 29 196617 t b f;#P newex 37 289 67 196617 %prob;#B color 6;#P newex 37 21 277 196617 makeparam $1/sw $2 t 0 0 1 0;#B color 13;#P window linecount 2;#P comment 228 210 134 196617 arg 1 : prefix name \; arg 2 : module name \;;#P window linecount 1;#P comment 721 600 109 196617 contact@tommays.net;#P comment 721 587 100 196617 patch by Tom Mays;#P newex 263 482 320 196617 t_gran_grainreverse $1 $2;#B color 6;#P window linecount 2;#P comment 305 549 41 196617 0= fwd \, 1=rev;#P window linecount 1;#P comment 281 469 44 196617 reverse;#P flonum 489 552 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 489 528 311 196617 t_gran_graintuning $1 $2;#B color 6;#P newex 492 33 166 196617 r $1/init;#B color 4;#P flonum 69 384 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#N comlet buffer size;#P inlet 69 364 15 0;#P comment 86 364 55 196617 buffer size;#P comment 621 447 37 196617 amp;#P comment 507 412 27 196617 trsp;#P newex 37 207 27 196617 t f f;#P window linecount 22;#P message 492 55 266 196617 \; $1/sw/init bang \; $1/interval/init bang \; $1/intervaldev%/init bang \; $1/%prob/init bang \; $1/posctr/init bang \; $1/posdev/init bang \; $1/posdevmode/init bang \; $1/durcoef/init bang \; $1/durcoefdev%/init bang \; $1/rvrs%/init bang \; $1/panctr/init bang \; $1/pandevamt/init bang \; $1/trspctr/init bang \; $1/trspdev/init bang \; $1/tunnum/init bang \; $1/tundenom/init bang \; $1/scale/sw/init bang \; $1/scale/init bang \; $1/tmprmnt%/init bang \; $1/ampctr/init bang \; $1/ampdev%/init bang \;;#P window linecount 1;#P newex 150 448 321 196617 t_gran_grainduration $1 $2;#B color 6;#P flonum 602 552 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 489 506 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 376 552 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 150 552 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 37 552 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 489 425 303 196617 t_gran_graintrsp $1 $2;#B color 6;#P newex 602 460 302 196617 t_gran_grainamp $1 $2;#B color 6;#P newex 376 383 299 196617 t_gran_grainpan $1 $2;#B color 6;#P newex 37 417 319 196617 t_gran_grainposition $1 $2;#B color 6;#P flonum 37 189 65 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 37 168 328 196617 t_gran_graininterval $1 $2;#B color 6;#P window linecount 2;#P comment 58 83 34 196617 grains on/off;#P window linecount 1;#P newex 37 120 77 196617 metro 40.;#P toggle 37 85 20 0;#N comlet list out [position (float ms)] [duration (float ms)] [pan (0. to 1.)] [transp (float semitones)] [amp (0. to 1.)];#P outlet 37 606 15 0;#P newex 37 580 577 196617 pack 0. 0. 0 0. 0. 0.;#P newex 37 341 579 196617 t b f b b b b;#P button 37 143 15 0;#P window linecount 2;#P comment 52 141 71 196617 bang to generate grain;#P window linecount 1;#P comment 54 607 521 196617 list out [position (float ms)] [duration (float ms)] [pan (0. to 1.)] [playpack speed (1=normal)] [amp (0. to 1.)];#P comment 55 404 45 196617 position;#P comment 168 435 45 196617 duration;#P comment 394 370 23 196617 pan;#P connect 40 0 9 0;#P connect 9 0 10 0;#P connect 10 0 5 0;#P connect 5 0 12 0;#P connect 12 0 13 0;#P connect 13 0 25 0;#P connect 25 0 42 0;#P connect 42 0 41 0;#P connect 41 0 45 0;#P connect 45 0 6 0;#P connect 6 0 14 0;#P connect 14 0 18 0;#P connect 18 0 7 0;#P connect 7 0 8 0;#P connect 25 0 46 0;#P connect 42 1 45 1;#P connect 29 0 30 0;#P connect 45 0 47 0;#P connect 44 0 43 0;#P connect 43 0 41 1;#P fasten 25 1 10 1 59 227 154 227 154 116 109 116;#P connect 6 1 23 0;#P connect 23 0 19 0;#P connect 19 0 7 1;#P connect 6 2 36 0;#P connect 36 0 7 2;#P fasten 30 0 14 1 74 406 351 406;#P connect 6 3 15 0;#P connect 15 0 20 0;#P connect 20 0 7 3;#P connect 6 4 17 0;#P connect 17 0 21 0;#P connect 21 0 32 0;#P connect 32 0 33 0;#P connect 33 0 7 4;#P connect 31 0 24 0;#P connect 6 5 16 0;#P connect 16 0 22 0;#P connect 22 0 7 5;#P pop;