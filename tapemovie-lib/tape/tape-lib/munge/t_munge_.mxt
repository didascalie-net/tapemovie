max v2;#N vpatcher 168 44 1272 897;#P origin 35 -105;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 118 787 52 196617 *~ 0.707;#P newex 118 809 145 196617 t_fxmetersend $1;#B color 4;#P button 786 466 15 0;#P newex 771 765 133 196617 s $1/spat/init;#B color 11;#P newex 55 14 211 196617 r $1/sw;#B color 12;#P newex 702 384 261 196617 makeswitch $1/sw $1 tape_switchstate;#B color 13;#P newex 702 427 31 196617 == 0;#P newex 702 466 50 196617 thispoly~;#B color 5;#P toggle 702 408 15 0;#P message 702 447 45 196617 mute \$1;#P window setfont Times 9.;#N in~ 1;#P newobj 6 78 30 1310729 in~ 1;#P window setfont "Sans Serif" 9.;#P flonum 63 786 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 7 786 55 196617 t_vol2~ 2;#P newex 51 759 355 196617 makeparam $1/vol $1 f 1 0. 2. 1 20;#B color 13;#P window setfont Times 9.;#N out~ 2;#P newobj 65 814 34 1310729 out~ 2;#N out~ 1;#P newobj 7 814 34 1310729 out~ 1;#P window setfont "Sans Serif" 9.;#P comment 101 657 18 196617 R;#P comment 44 657 18 196617 L;#P newex 392 592 357 196617 makeparam $1/stereospread $1 i 0 0 100 1;#B color 13;#P newex 337 534 295 196617 makeparam $1/trspvar $1 i 0 0 100 1;#B color 13;#P newex 282 510 373 196617 makeparam $1/trsp $1 f 0 -60. 60. 1;#B color 13;#P newex 227 490 395 196617 makeparam $1/sizevar $1 i 0 0 $2 1;#B color 13;#P newex 172 471 385 196617 makeparam $1/size $1 i 70 0 $2 1;#B color 13;#P newex 117 451 396 196617 makeparam $1/ratevar $1 i 0 0 99999 1;#B color 13;#P newex 62 431 386 196617 makeparam $1/rate $1 i 10 0 99999 1;#B color 13;#P newex 21 411 217 196617 r $1/clear;#B color 11;#P newex 607 319 357 196617 makeparam $1/scale $1 l @initlist 0 2 4 5 7 9 11;#B color 13;#P newex 484 298 314 196617 makeparam $1/tempered $1 t 0;#B color 13;#P newex 373 274 309 196617 makeparam $1/rand_gain $1 f 0 0 2 1;#B color 13;#P newex 261 253 282 196617 makeparam $1/gain $1 f 1 0 4 1;#B color 13;#P newex 147 232 321 196617 makeparam $1/position $1 f -1 -1 1 0;#B color 13;#P newex 55 211 313 196617 makeparam $1/record $1 t 0;#B color 13;#P newex 752 137 323 196617 makeparam $1/minsize $1 i 10 0 $2 0;#B color 13;#P newex 602 116 315 196617 makeparam $1/direction $1 i 1 -1 1 0;#B color 13;#P newex 482 95 397 196617 makeparam $1/del $1 i 500 0 $2 1;#B color 13;#P newex 369 75 394 196617 makeparam $1/ramptime $1 i 30 0 $2 0;#B color 13;#P newex 260 55 188 196617 makeparam $1/voices $1 i 10 0 100 0;#B color 13;#P newex 148 35 207 196617 makeparam $1/maxvoices $1 i 20 0 100 0;#B color 13;#P window setfont Times 9.;#P comment 158 271 101 1310729 0. to 1. or -1 for random;#P newex 214 339 24 1310729 t -1.;#P window setfont "Sans Serif" 9.;#P flonum 147 361 63 9 -1. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P newex 147 339 65 1310729 clip 0.0005 1.;#P newex 147 319 77 1310729 split 0. 1.;#P window setfont "Sans Serif" 9.;#P message 21 571 33 196617 state;#P window linecount 2;#P comment 316 784 213 196617 20000 buffer = 6125 max delay \; for 10000 max delay \, buffer 32653.060547;#B frgb 255 0 0;#P window linecount 1;#P message 21 517 33 196617 clear;#P number 371 557 35 9 -100 100 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 337 629 35 196617 abs 0.;#P window setfont Times 9.;#P number 602 158 22 9 -1 1 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 607 346 59 1310729 prepend scale;#P window setfont "Sans Serif" 9.;#P flonum 227 677 48 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 117 677 48 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 172 677 48 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 62 677 48 9 0. 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 484 366 40 196617 smooth;#P window setfont Times 9.;#P newex 484 346 93 1310729 sel 0 1;#P window setfont "Sans Serif" 9.;#P message 525 366 50 196617 tempered;#P toggle 484 328 15 0;#P window setfont Times 9.;#P window linecount 2;#P comment 423 340 49 1310729 0. to 1. (or up to 2.);#P comment 299 341 49 1310729 0. to 1. (or up to 2.);#P window setfont "Sans Serif" 9.;#P window linecount 1;#P message 373 368 65 196617 rand_gain \$1;#P window setfont Times 9.;#P flonum 373 350 35 9 0. 10. 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 9.;#P message 261 368 41 196617 gain \$1;#P window setfont Times 9.;#P flonum 261 350 35 9 0. 10. 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P comment 789 160 38 1310729 ms (int);#P toggle 55 328 15 0;#P window setfont "Sans Serif" 9.;#P message 55 346 53 196617 record \$1;#P window setfont Times 9.;#P number 752 158 35 9 0 0 1 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 9.;#P message 752 176 55 196617 minsize \$1;#P message 602 176 92 196617 ambidirectional \$1;#P window setfont Times 9.;#P comment 536 160 38 1310729 ms (int);#P window setfont "Sans Serif" 9.;#P number 482 158 53 9 0 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 482 176 93 196617 delaylength_ms \$1;#P window setfont Times 9.;#P comment 425 159 38 1310729 ms (int);#P number 260 158 35 9 0 100 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 9.;#P message 260 176 52 196617 voices \$1;#P window setfont Times 9.;#P number 148 158 35 9 0 100 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont "Sans Serif" 9.;#P message 148 176 71 196617 maxvoices \$1;#P message 147 379 58 196617 position \$1;#P toggle 55 158 15 0;#P message 55 176 51 196617 power \$1;#P number 369 158 53 9 0 0 1 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 369 176 65 196617 ramptime \$1;#P comment 288 649 53 196617 grain trsp;#P window setfont Times 9.;#P comment 76 694 38 1310729 ms (int);#P comment 131 694 38 1310729 ms (int);#P comment 183 663 38 1310729 ms (int);#P comment 241 637 38 1310729 ms (int);#P newex 337 557 31 1310729 / 100.;#P comment 406 555 40 1310729 0 to 100;#P newex 392 630 31 1310729 / 100.;#P newex 282 695 85 1310729 expr pow(2\\\,$f1/12);#P window setfont "Sans Serif" 9.;#P newex 7 726 400 196617 munger~ $2;#B color 2;#P window linecount 2;#P comment 342 649 53 196617 grain pitch variation;#P window linecount 1;#P comment 287 713 53 196617 grain pitch;#P window linecount 2;#P comment 232 649 53 196617 grain size variation;#P comment 122 649 53 196617 grain rate variation;#P flonum 337 677 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 392 677 35 9 0. 1. 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 282 677 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P comment 67 649 53 196617 grain rate;#P comment 175 649 52 196617 grain size;#P window linecount 2;#P comment 397 649 38 196617 stereo spread;#P window setfont Times 9.;#P window linecount 24;#P message 786 488 220 1310729 \; $1/sw/init bang \; $1/clear bang \; $1/record/init bang \; $1/maxvoices/init bang \; $1/voices/init bang \; $1/minsize/init bang \; $1/ramptime/init bang \; $1/rate/init bang \; $1/ratevar/init bang \; $1/size/init bang \; $1/sizevar/init bang \; $1/trsp/init bang \; $1/trspvar/init bang \; $1/del/init bang \; $1/position/init bang \; $1/direction/init bang \; $1/stereospread/init bang \; $1/gain/init bang \; $1/rand_gain/init bang \; $1/vol/init bang \; $1/tempered/init bang \; $1/scale/init bang \; module_register $1 \;;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 786 445 148 196617 moduleinit $1;#B color 13;#P window setfont Times 9.;#P window linecount 2;#P comment 209 785 100 1310729 arg 1 : prefix name \; arg 2 : max del time;#P window linecount 1;#P comment 416 577 40 1310729 0 to 100;#P comment 627 160 120 1310729 -1 = rev \, 0 = fwd+rev \, 1 = fwd;#P window setfont "Sans Serif" 9.;#P window linecount 9;#P comment 459 636 117 196617 del determines max grain size and thus max perceived delay \, but must be three times longer than the desired percieved delay. i.e. del of 30000 makes perceived delay of 10000 if position is +1;#B frgb 255 0 0;#P connect 98 0 16 0;#P fasten 63 0 16 0 26 544 12 544;#P fasten 59 0 16 0 612 396 12 396;#P fasten 52 0 16 0 530 396 12 396;#P fasten 54 0 16 0 489 396 12 396;#P fasten 48 0 16 0 378 396 12 396;#P fasten 42 0 16 0 60 396 12 396;#P fasten 30 0 16 0 152 396 12 396;#P fasten 46 0 16 0 266 396 12 396;#P fasten 40 0 16 0 757 198 12 198;#P fasten 39 0 16 0 607 198 12 198;#P fasten 36 0 16 0 487 198 12 198;#P fasten 26 0 16 0 374 198 12 198;#P fasten 33 0 16 0 265 198 12 198;#P fasten 31 0 16 0 153 198 12 198;#P fasten 28 0 16 0 60 198 12 198;#P connect 65 0 16 0;#P connect 16 0 96 0;#P connect 96 0 93 0;#P connect 83 0 63 0;#P fasten 16 1 96 1 402 753 34 753;#P connect 97 0 96 2;#P connect 95 0 96 2;#P connect 104 0 29 0;#P connect 29 0 28 0;#P connect 77 0 43 0;#P connect 43 0 42 0;#P connect 84 0 55 0;#P connect 55 0 16 1;#P connect 96 2 97 0;#P fasten 96 1 94 0 34 808 70 808;#P connect 85 0 57 0;#P connect 57 0 16 2;#P connect 96 1 108 0;#P connect 96 0 108 0;#P connect 108 0 107 0;#P connect 78 0 66 0;#P connect 66 0 67 0;#P connect 67 0 68 0;#P fasten 69 0 68 0 219 358 152 358;#P connect 68 0 30 0;#P connect 71 0 32 0;#P connect 32 0 31 0;#P connect 86 0 56 0;#P connect 56 0 16 3;#P connect 66 1 69 0;#P connect 87 0 58 0;#P connect 58 0 16 4;#P connect 72 0 34 0;#P connect 34 0 33 0;#P connect 79 0 45 0;#P connect 45 0 46 0;#P connect 88 0 9 0;#P connect 9 0 17 0;#P connect 17 0 16 5;#P connect 89 0 20 0;#P connect 62 0 20 0;#P connect 20 0 61 0;#P connect 61 0 11 0;#P connect 11 0 16 6;#P connect 73 0 27 0;#P connect 27 0 26 0;#P connect 80 0 47 0;#P connect 47 0 48 0;#P connect 90 0 18 0;#P connect 18 0 10 0;#P connect 10 0 16 7;#P connect 74 0 37 0;#P connect 37 0 36 0;#P connect 81 0 51 0;#P connect 51 0 53 0;#P connect 53 0 54 0;#P connect 53 1 52 0;#P connect 75 0 60 0;#P connect 60 0 39 0;#P connect 82 0 59 0;#P connect 103 0 100 0;#P connect 100 0 102 0;#P connect 102 0 99 0;#P connect 99 0 101 0;#P connect 76 0 41 0;#P connect 41 0 40 0;#P fasten 106 0 105 0 791 485 776 485;#P connect 4 0 106 0;#P connect 106 0 5 0;#P pop;