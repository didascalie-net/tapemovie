max v2;#N vpatcher 304 99 1212 651;#P origin 0 25;#N comlet R4;#P outlet 181 327 15 0;#N comlet L4;#P outlet 158 357 15 0;#N comlet R3;#P outlet 135 327 15 0;#N comlet L3;#P outlet 112 357 15 0;#N comlet R2;#P outlet 89 327 15 0;#N comlet L2;#P outlet 66 357 15 0;#N comlet R1;#P outlet 43 327 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P comment 180 342 20 196617 R4;#P comment 157 372 19 196617 L4;#P comment 134 342 20 196617 R3;#P comment 111 372 19 196617 L3;#P comment 88 342 20 196617 R2;#P comment 65 372 19 196617 L2;#P comment 42 342 20 196617 R1;#N comlet L1;#P outlet 20 357 15 0;#P comment 19 372 19 196617 L1;#P window setfont Times 24.;#P window linecount 2;#P comment 702 330 135 1310744 based on vbap (rvbap);#B frgb 255 0 0;#P window setfont "Sans Serif" 12.;#P window linecount 1;#P newex 329 34 237 196620 t_posxytoazdist $1/R;#B color 6;#P window setfont Times 9.;#P newex 709 231 129 1310729 r $1/R/center;#B color 11;#P newex 709 206 131 1310729 r $1/R/height;#B color 11;#P window setfont "Sans Serif" 9.;#P newex 20 28 276 196617 makeparam $1/R/crcfrq $1 f 0 0 0 2;#B color 13;#P newex 549 97 294 196617 makeparam $1/R/grain $1 i $2 5 500;#B color 13;#P newex 206 78 316 196617 makeparam $1/R/out $1 f -127 -127 18 1 $2;#B color 13;#P window setfont Times 9.;#P newex 206 99 95 1310729 expr pow(10\\\,($f1/20));#P window setfont "Sans Serif" 9.;#P newex 168 122 298 196617 makeparam $1/R/pres $1 f 1 0 1 1 $2;#B color 13;#P newex 57 192 310 196617 makeparam $1/R/dist $1 f 1 -1. 1. 1 $2;#B color 13;#P newex 20 215 287 196617 makeparam $1/R/az $1 i 0 0 0 1 $2;#B color 13;#P window linecount 2;#P comment 520 476 107 196617 patch by Tom Mays contact@tommays.net;#P window setfont Times 9.;#P message 98 454 191 1310729 \; $1/R/azrand 1 0 360 1000 3000 50 100;#P toggle 80 429 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 98 429 138 196617 t_spat-azrand $1/R;#B color 6;#P window setfont Times 9.;#P window linecount 2;#P message 98 484 97 1310729 \; $1/R/azrand 0;#P window setfont Times 24.;#P window linecount 1;#P comment 523 355 135 1310744 mspat8ctlr;#N comlet transition time in ms;#P outlet 336 327 15 0;#N comlet rev;#P outlet 204 386 15 0;#P window setfont "Sans Serif" 9.;#P comment 204 401 24 196617 rev;#P window setfont Times 9.;#P flonum 206 237 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 590 120 23 1310729 t 50;#P newex 590 141 127 1310729 s $1/R/grain;#B color 11;#P newex 549 118 32 1310729 sel 0;#P number 336 309 38 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 2;#P comment 355 325 45 1310729 transition time in ms;#P flonum 57 237 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 20 237 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 168 237 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 549 141 30 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P newex 20 293 198 1310729 t_mspat8ctl $3 $1;#B color 5;#P window setfont Times 12.;#P newex 20 53 183 1310732 poly~ t_spatrot_ 1 args $1/R;#B color 5;#P window setfont Times 9.;#P window linecount 8;#P message 510 228 142 1310729 \; $1/R/az/init bang \; $1/R/dist/init bang \; $1/R/crcfrq/init bang \; $1/R/pres/init bang \; $1/R/out/init bang \; $1/R/grain/init bang \; $1/R/azrand 0 \;;#P window linecount 1;#P newex 510 197 136 1310729 r $1/R/spat/init;#B color 11;#P window linecount 3;#P comment 442 404 287 1310729 arg 1 : module name (ie. pan1) \; arg 2 : min grain time (ex. 50) \; arg 3 : azimuth offset in degrees (default = 0 \, which places 0 deg in front) \;;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P comment 442 451 248 196617 mpan4 ctl with receives \, to connect to local matrix~;#P window setfont Times 9.;#P comment 302 100 63 1310729 dB output level;#P connect 32 0 5 0;#P connect 5 0 26 0;#P connect 26 0 9 0;#P connect 9 0 6 0;#P connect 6 0 38 0;#P connect 6 1 46 0;#P connect 27 0 10 0;#P connect 6 2 47 0;#P connect 22 0 23 0;#P connect 10 0 6 1;#P connect 6 3 48 0;#P connect 6 4 49 0;#P connect 6 5 50 0;#P connect 8 0 6 2;#P connect 6 6 51 0;#P connect 28 0 8 0;#P connect 6 7 52 0;#P connect 6 8 18 0;#P connect 30 0 29 0;#P connect 29 0 16 0;#P connect 16 0 6 3;#P connect 7 0 26 1;#P lcolor 1;#P connect 27 1 12 0;#P connect 30 1 12 0;#P connect 28 1 12 0;#P connect 26 1 12 0;#P connect 12 0 19 0;#P connect 7 0 27 1;#P lcolor 1;#P connect 7 0 28 1;#P lcolor 1;#P connect 3 0 4 0;#P connect 7 0 30 1;#P lcolor 1;#P connect 31 0 13 0;#P connect 13 1 7 0;#P connect 13 0 15 0;#P connect 15 0 14 0;#P pop;