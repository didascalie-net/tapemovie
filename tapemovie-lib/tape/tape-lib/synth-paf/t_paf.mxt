max v2;#N vpatcher 237 70 1259 898;#P origin -51 122;#P window setfont "Sans Serif" 9.;#P number 33 300 55 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 2;#P comment 192 155 152 196617 converts automatically to midicents if pitch <= 140 \,;#P window setfont Times 9.;#P window linecount 1;#P newex 71 258 30 1310729 + 0.5;#P newex 33 279 16 1310729 t i;#P newex 33 258 35 1310729 * 100.;#P window setfont "Sans Serif" 9.;#P newex 33 237 48 196617 gate 2;#P newex 88 210 27 196617 + 1;#P newex 88 189 39 196617 > 140.;#P newex 71 168 27 196617 t f f;#P flonum 71 147 66 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P newex 14 394 47 1310729 s $1/poly;#B color 11;#P window setfont "Sans Serif" 9.;#N vpatcher 10 59 591 360;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 174 242 164 196617 s $1/shift3-;#B color 11;#P newex 143 223 158 196617 s $1/vfr3-;#B color 11;#P newex 112 201 157 196617 s $1/vib3-;#B color 11;#P newex 81 181 174 196617 s $1/bw3/ctl-;#B color 11;#P newex 50 161 170 196617 s $1/cf3/ctl-;#B color 11;#P window linecount 0;#P newex 174 131 351 196617 makeparam $1/shift3 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 143 112 351 196617 makeparam $1/vfr3 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 112 90 351 196617 makeparam $1/vib3 $1 f 0. 0. 20. 1 20;#B color 13;#P newex 81 70 351 196617 makeparam $1/bw3/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P newex 50 50 351 196617 makeparam $1/cf3/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P connect 0 0 5 0;#P connect 1 0 6 0;#P connect 2 0 7 0;#P connect 3 0 8 0;#P connect 4 0 9 0;#P pop;#P newobj 297 519 80 196617 p makeparams3;#B color 6;#N vpatcher 10 59 574 366;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 174 243 164 196617 s $1/shift2-;#B color 11;#P newex 143 224 158 196617 s $1/vfr2-;#B color 11;#P newex 112 202 157 196617 s $1/vib2-;#B color 11;#P newex 81 182 174 196617 s $1/bw2/ctl-;#B color 11;#P newex 50 162 170 196617 s $1/cf2/ctl-;#B color 11;#P window linecount 0;#P newex 174 131 351 196617 makeparam $1/shift2 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 143 112 351 196617 makeparam $1/vfr2 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 112 90 351 196617 makeparam $1/vib2 $1 f 0. 0. 20. 1 20;#B color 13;#P newex 81 70 351 196617 makeparam $1/bw2/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P newex 50 50 351 196617 makeparam $1/cf2/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P connect 0 0 5 0;#P connect 1 0 6 0;#P connect 2 0 7 0;#P connect 3 0 8 0;#P connect 4 0 9 0;#P pop;#P newobj 177 519 80 196617 p makeparams2;#B color 6;#N vpatcher 10 59 580 364;#P window setfont "Sans Serif" 9.;#P newex 174 236 164 196617 s $1/shift1-;#B color 11;#P newex 143 217 158 196617 s $1/vfr1-;#B color 11;#P newex 112 195 157 196617 s $1/vib1-;#B color 11;#P newex 81 175 174 196617 s $1/bw1/ctl-;#B color 11;#P newex 50 155 170 196617 s $1/cf1/ctl-;#B color 11;#P newex 174 131 351 196617 makeparam $1/shift1 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 143 112 351 196617 makeparam $1/vfr1 $1 f 0. 0. 100. 1 20;#B color 13;#P newex 112 90 351 196617 makeparam $1/vib1 $1 f 0. 0. 20. 1 20;#B color 13;#P newex 81 70 351 196617 makeparam $1/bw1/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P newex 50 50 351 196617 makeparam $1/cf1/ctl $1 f 0. 0. 127. 1 20;#B color 13;#P connect 0 0 5 0;#P connect 1 0 6 0;#P connect 2 0 7 0;#P connect 3 0 8 0;#P connect 4 0 9 0;#P pop;#P newobj 57 519 80 196617 p makeparams1;#B color 6;#P window setfont Times 9.;#P newex 826 745 73 1310729 zmap 0 1 0 1000;#P newex 826 723 36 1310729 pow 2.;#P newex 826 702 33 1310729 / 127.;#P window setfont "Sans Serif" 9.;#P flonum 783 684 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P newex 826 787 47 1310729 s $1/shift;#B color 11;#P newex 826 766 55 1310729 pack 0. 150;#P window setfont "Sans Serif" 9.;#P comment 826 668 47 196617 /shift;#P user hslider 826 681 18 128 128 1 0 0;#P window setfont Times 9.;#P newex 713 707 66 1310729 zmap 0 1 0 10;#P newex 713 685 41 1310729 pow 2.5;#P newex 713 664 33 1310729 / 127.;#P window setfont "Sans Serif" 9.;#P flonum 670 646 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P newex 713 749 40 1310729 s $1/vfr;#B color 11;#P newex 713 728 55 1310729 pack 0. 150;#P window setfont "Sans Serif" 9.;#P comment 713 630 47 196617 /vfr;#P user hslider 713 643 18 128 128 1 0 0;#P window setfont Times 9.;#P newex 594 670 66 1310729 zmap 0 1 0 10;#P newex 594 648 41 1310729 pow 2.5;#P newex 594 627 33 1310729 / 127.;#P window setfont "Sans Serif" 9.;#P flonum 551 609 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P newex 594 712 42 1310729 s $1/vib;#B color 11;#P newex 594 691 55 1310729 pack 0. 150;#P window setfont "Sans Serif" 9.;#P comment 594 593 47 196617 /vib;#P user hslider 594 606 18 128 128 1 0 0;#P window setfont Times 9.;#P newex 833 561 58 1310729 s $1/bw3/ctl;#B color 11;#P newex 833 540 55 1310729 pack 0. 100;#P newex 833 478 54 1310729 s $1/cf3/ctl;#B color 11;#P newex 833 457 55 1310729 pack 0. 200;#P window setfont "Sans Serif" 9.;#P comment 833 505 53 196617 /bw3/ctl;#P user hslider 833 518 18 128 128 1 0 0;#P user hslider 833 434 18 128 128 1 0 0;#P comment 833 420 49 196617 /cf3/ctl;#P window setfont Times 9.;#P newex 686 561 58 1310729 s $1/bw2/ctl;#B color 11;#P newex 686 540 55 1310729 pack 0. 100;#P newex 686 478 54 1310729 s $1/cf2/ctl;#B color 11;#P newex 686 457 55 1310729 pack 0. 200;#P window setfont "Sans Serif" 9.;#P comment 686 505 53 196617 /bw2/ctl;#P user hslider 686 518 18 128 128 1 0 0;#P user hslider 686 434 18 128 128 1 0 0;#P comment 686 420 49 196617 /cf2/ctl;#P window setfont Times 9.;#P newex 539 561 58 1310729 s $1/bw1/ctl;#B color 11;#P newex 539 540 55 1310729 pack 0. 100;#P newex 539 478 54 1310729 s $1/cf1/ctl;#B color 11;#P newex 539 457 55 1310729 pack 0. 200;#P window setfont "Sans Serif" 9.;#P comment 539 505 53 196617 /bw1/ctl;#P user hslider 539 518 18 128 128 1 0 0;#P user hslider 539 434 18 128 128 1 0 0;#P comment 539 420 49 196617 /cf1/ctl;#P newex 52 683 145 196617 t_fxmetersend $1;#B color 4;#P window setfont Times 9.;#P newex 211 572 120 1310729 s $1_busy;#B color 11;#P window setfont "Sans Serif" 9.;#P flonum 78 640 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 26 640 49 196617 t_vol~ 2;#P newex 65 614 351 196617 makeparam $1/vol $1 f 1 0. 2. 1 20;#B color 13;#P newex 14 369 29 196617 gate;#P newex 14 12 261 196617 makeswitch $1/sw $1 tape_switchstate;#B color 13;#P button 655 59 15 0;#P newex 623 370 165 196617 s $1/spat/init;#B color 11;#P newex 655 30 148 196617 moduleinit $1;#B color 13;#P window linecount 22;#P message 655 87 203 196617 \; $1/sw/init bang \; $1/steal 1 \; $1/polyphony 16 \; $1/cf1/ctl/init bang \; $1/bw1/ctl/init bang \; $1/vib1/init bang \; $1/vfr1/init bang \; $1/shift1/init bang \; $1/cf2/ctl/init bang \; $1/bw2/ctl/init bang \; $1/vib2/init bang \; $1/vfr2/init bang \; $1/shift2/init bang \; $1/cf3/ctl/init bang \; $1/bw3/ctl/init bang \; $1/vib3/init bang \; $1/vfr3/init bang \; $1/shift3/init bang \; $1/vol/init bang \; $1/allnotesoff bang \; module_register $1 \;;#P number 152 417 35 9 0 0 64 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window setfont Times 9.;#P window linecount 1;#P message 152 436 41 1310729 open \$1;#P newex 33 322 123 1310729 zl join;#P newex 71 113 85 1310729 zl slice 1;#P toggle 71 70 15 0;#P newex 71 91 36 1310729 gate;#P newex 71 46 53 1310729 dspstate~;#P newex 465 359 35 1310729 unpack;#P number 500 393 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 465 336 45 1310729 t l 100;#P newex 97 69 45 1310729 r $1/note;#B color 11;#P newex 465 314 66 1310729 r $1/showbusy;#B color 11;#P toggle 465 397 15 0;#P newex 465 416 45 1310729 metro;#P message 465 436 49 1310729 busymap 1;#P message 232 435 38 1310729 steal \$1;#P newex 33 344 76 1310729 prepend midinote;#P message 116 436 34 1310729 open 1;#P number 322 418 35 9 0 32 3 20 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 322 397 71 1310729 r $1/polyphony;#B color 11;#P toggle 232 417 15 0;#P newex 232 396 46 1310729 r $1/steal;#B color 11;#P newex 26 436 46 1310729 r $1/poly;#B color 11;#P message 322 436 45 1310729 voices \$1;#P comment 358 418 50 1310729 also resets;#P window setfont "Sans Serif" 9.;#P comment 343 22 132 196617 arg 1 : module prefix name \;;#P window linecount 2;#P comment 429 742 107 196617 patch by Tom Mays contact@tommays.net;#P window linecount 1;#P newex 26 719 156 196617 send $1/out~;#B color 4;#P newex 26 550 195 196617 poly~ t_paf_ 16 args $1;#B color 6;#P connect 33 0 34 0;#P connect 34 0 91 0;#P fasten 14 0 0 0 470 507 31 507;#P connect 6 0 0 0;#P fasten 5 0 0 0 327 507 31 507;#P fasten 13 0 0 0 237 507 31 507;#P fasten 27 0 0 0 157 507 31 507;#P fasten 11 0 0 0 121 507 31 507;#P connect 0 0 36 0;#P connect 36 0 1 0;#P connect 95 0 96 0;#P connect 96 0 97 0;#P connect 99 0 98 0;#P connect 97 0 98 0;#P connect 98 0 101 0;#P connect 101 0 26 0;#P connect 26 0 12 0;#P connect 12 0 34 1;#P connect 36 0 39 0;#P connect 37 0 36 1;#P connect 35 0 36 1;#P connect 22 0 24 0;#P connect 24 0 23 0;#P connect 23 0 25 0;#P connect 25 0 92 0;#P connect 92 0 93 0;#P connect 93 0 96 1;#P connect 96 1 99 0;#P connect 36 1 37 0;#P connect 93 1 94 0;#P connect 94 0 95 0;#P connect 18 0 23 1;#P connect 25 1 26 1;#P connect 28 0 27 0;#P connect 0 1 38 0;#P connect 7 0 8 0;#P connect 8 0 13 0;#P connect 9 0 10 0;#P connect 10 0 5 0;#P connect 17 0 19 0;#P connect 19 0 21 0;#P connect 21 0 16 0;#P connect 16 0 15 0;#P connect 15 0 14 0;#P connect 19 1 20 0;#P connect 21 1 20 0;#P connect 20 0 15 1;#P connect 41 0 44 0;#P connect 44 0 45 0;#P connect 42 0 46 0;#P connect 46 0 47 0;#P connect 64 0 69 0;#P connect 69 0 70 0;#P connect 70 0 71 0;#P connect 71 0 66 0;#P connect 68 0 66 0;#P connect 66 0 67 0;#P fasten 32 0 31 0 660 80 628 80;#P connect 30 0 32 0;#P connect 32 0 29 0;#P connect 49 0 52 0;#P connect 52 0 53 0;#P connect 50 0 54 0;#P connect 54 0 55 0;#P connect 72 0 77 0;#P connect 77 0 78 0;#P connect 78 0 79 0;#P connect 79 0 74 0;#P connect 76 0 74 0;#P connect 74 0 75 0;#P connect 80 0 85 0;#P connect 85 0 86 0;#P connect 86 0 87 0;#P connect 87 0 82 0;#P connect 84 0 82 0;#P connect 82 0 83 0;#P connect 57 0 60 0;#P connect 60 0 61 0;#P connect 58 0 62 0;#P connect 62 0 63 0;#P pop;