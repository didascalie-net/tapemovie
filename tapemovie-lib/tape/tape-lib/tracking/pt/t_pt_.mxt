max v2;#N vpatcher 167 202 1319 875;#P inlet 3 269 15 0;#P window setfont "Sans Serif" 9.;#P comment 781 559 277 196617 no longer need to send to module_register. happens in build.;#P newex 232 30 146 196617 r $1/sw;#B color 11;#P newex 606 186 312 196617 makeparam $1/npartial $1 i 7 0 32 0;#B color 13;#P newex 557 165 338 196617 makeparam $1/reattack/dB $1 i 10 0 96 0;#B color 13;#P newex 508 143 359 196617 makeparam $1/reattack/time $1 i 100 0 999 0;#B color 13;#P newex 451 120 356 196617 makeparam $1/vibrato/interval $1 f 0.5 0 1 0;#B color 13;#P newex 404 97 348 196617 makeparam $1/vibrato/time $1 i 50 0 999 0;#B color 13;#P newex 353 73 340 196617 makeparam $1/amprange/hi $1 i 50 0 96 0;#B color 13;#P newex 304 52 340 196617 makeparam $1/amprange/lo $1 i 40 0 96 0;#B color 13;#P newex 781 346 151 196617 moduleinit $1;#B color 13;#P newex 586 299 416 196617 makeswitch $1/sw $1 tape_switchstate;#B color 13;#P newex 586 340 31 196617 == 0;#P newex 586 379 50 196617 thispoly~;#B color 5;#P toggle 586 319 15 0;#P message 586 360 45 196617 mute \$1;#P window linecount 14;#P message 781 368 214 196617 \; $1/sw/init bang \; $1/amprange/lo/init bang \; $1/amprange/hi/init bang \; $1/vibrato/time/init bang \; $1/vibrato/interval/init bang \; $1/reattack/time/init bang \; $1/reattack/dB/init bang \; $1/npartial/init bang \; $1/pitch/init bang \; $1/rawpitch/init bang \; $1/ampdB/init bang \; $1/rawampdB/init bang \; control_register/store $1 \;;#P window linecount 1;#P newex 304 143 59 196617 minmaxi;#P newex 606 250 81 196617 prepend npartial;#P newex 508 250 84 196617 prepend reattack;#P newex 508 229 59 196617 pack;#P newex 508 208 59 196617 bondo 2 1;#P newex 404 204 79 196617 prepend vibrato;#P newex 404 183 57 196617 pack 0 0.;#P newex 404 162 57 196617 bondo 2 1;#P newex 304 186 94 196617 prepend amp-range;#P newex 304 165 59 196617 pack;#P newex 304 121 59 196617 bondo 2 1;#P newex 232 102 65 196617 prepend auto;#P window setfont Times 9.;#P number 606 207 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 557 187 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 508 165 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 451 141 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 404 118 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 353 94 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P number 304 73 35 9 0 0 0 20 0 0 0 221 221 221 222 222 222 0 0 0;#P toggle 232 51 15 0;#P window linecount 2;#P comment 701 218 148 1310729 at 1024 \, pitches 44.65 to 136.7 (107.7 Hz to 21969 Hz);#P comment 701 245 147 1310729 at 2048 \, pitches 32.63 to 136.7 (53.86 Hz to 21969 Hz);#P window setfont "Sans Serif" 9.;#P window linecount 5;#P comment 867 216 224 196617 fiddle~ \; window size (128-2048 \, default 1024) \; # of pitch outlets (1-3 \, default 1) \; # of peaks to find (1-100 \, default 20) \; # of peaks to output (default 0) \;;#P window linecount 1;#P comment 1029 186 52 196617 pitch midi;#P comment 934 186 48 196617 low limit;#P flonum 983 185 45 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 983 164 29 196617 ftom;#P comment 1030 145 19 196617 Hz;#P flonum 983 144 45 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 1072 81 45 196617 loadbang;#P message 1072 102 58 196617 $2;#P newex 983 122 99 196617 expr ($f1*2.5)/$i2;#P window linecount 4;#P message 124 54 87 196617 amp-range 40 50 \, vibrato 50 0.5 \, reattack 100 10 \, npartial 7;#P flonum 436 384 42 9 0 0 32 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 317 384 42 9 0 0 32 3 0 0 0 221 221 221 222 222 222 0 0 0;#P flonum 217 384 42 9 0 0 32 3 0 0 0 221 221 221 222 222 222 0 0 0;#P window linecount 1;#P newex 217 341 61 196617 unpack 0. 0.;#P comment 23 419 63 196617 cooked pitch;#P comment 223 451 51 196617 raw pitch;#P comment 324 419 60 196617 raw amp dB;#P toggle 969 60 15 0;#P number 1011 60 46 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P number 997 80 46 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#N in~ 1;#P newobj 17 32 31 196617 in~ 1;#P flonum 983 101 58 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 969 39 53 196617 dspstate~;#P newex 34 137 84 196617 r $1;#B color 11;#P newex 17 432 288 196617 makecontrol $1/pitch $1 f 0 200 /tape;#B color 14;#P newex 436 494 303 196617 makecontrol $1/ampdB $1 f 0 200 /tape;#B color 14;#P newex 317 432 321 196617 makecontrol $1/rawampdB $1 f 0 200 /tape;#B color 14;#P newex 217 464 314 196617 makecontrol $1/rawpitch $1 f 0 200 /tape;#B color 14;#P flonum 17 384 51 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 124 31 45 196617 loadbang;#P window linecount 4;#P message 29 54 90 196617 amp-range 54 58 \, vibrato 50 0.5 \, reattack 100 12 \, npartial 7;#P window linecount 1;#P newex 17 297 410 196617 fiddle~ $2 1 $3 1;#B color 5;#P comment 443 481 40 196617 amp dB;#P window linecount 3;#P comment 59 583 258 196617 arg 1 : prefix name \; arg 2 : window size (128-2048 \, suggested 2048) \; arg 3 : # of peaks to find (1-100 \, suggested 20) \;;#P window linecount 1;#P comment 934 145 48 196617 low limit;#P connect 74 0 3 0;#P fasten 4 0 3 0 34 109 22 109;#P connect 14 0 3 0;#P fasten 25 0 3 0 129 109 22 109;#P fasten 56 0 3 0 611 278 22 278;#P fasten 55 0 3 0 513 271 22 271;#P fasten 52 0 3 0 409 230 22 230;#P fasten 49 0 3 0 309 211 22 211;#P fasten 46 0 3 0 237 175 22 175;#P fasten 11 0 3 0 39 165 22 165;#P connect 3 0 6 0;#P connect 6 0 10 0;#P connect 5 0 25 0;#P connect 3 2 21 0;#P connect 21 0 22 0;#P connect 22 0 7 0;#P connect 72 0 38 0;#P connect 38 0 46 0;#P connect 65 0 39 0;#P connect 39 0 47 0;#P connect 47 0 57 0;#P connect 57 0 48 0;#P connect 48 0 49 0;#P fasten 21 1 23 0 273 371 322 371;#P connect 23 0 8 0;#P connect 66 0 40 0;#P connect 40 0 47 1;#P connect 47 1 57 1;#P connect 57 1 48 1;#P connect 67 0 41 0;#P connect 41 0 50 0;#P connect 50 0 51 0;#P connect 51 0 52 0;#P fasten 3 3 24 0 322 349 441 349;#P connect 24 0 9 0;#P connect 68 0 42 0;#P connect 42 0 50 1;#P connect 50 1 51 1;#P connect 69 0 43 0;#P connect 43 0 53 0;#P connect 53 0 54 0;#P connect 54 0 55 0;#P connect 70 0 44 0;#P connect 44 0 53 1;#P connect 53 1 54 1;#P connect 63 0 60 0;#P connect 60 0 62 0;#P connect 62 0 59 0;#P connect 59 0 61 0;#P connect 71 0 45 0;#P connect 45 0 56 0;#P connect 64 0 58 0;#P connect 12 0 17 0;#P connect 12 1 13 0;#P connect 13 0 26 0;#P connect 26 0 29 0;#P connect 29 0 31 0;#P connect 31 0 32 0;#P connect 12 2 15 0;#P connect 12 3 16 0;#P connect 28 0 27 0;#P connect 27 0 26 1;#P pop;